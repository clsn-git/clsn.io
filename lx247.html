<html><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta http-equiv="Cache-Control" content="no-transform" /><meta http-equiv="Cache-Control" content="no-siteapp" /><title>MongoDBçš„å¤‡ä»½ä¸æ¢å¤ | æƒ¨ç»¿å°‘å¹´</title><meta name="description" content="ã€€ã€€&nbsp; &nbsp;æœ‰ä»¥ä¸Šä¸¤ç»„å‘½ä»¤åœ¨å¤‡ä»½ä¸æ¢å¤ä¸­è¿›è¡Œä½¿ç”¨ã€‚" /><meta name="keywords" content="" /><link rel="shortcut icon" href="Frog-2.png" tppabs="http://clsn.io/wp-content/uploads/2018/09/Frog-2.png"><link rel="apple-touch-icon" sizes="114x114" href="Frog-2.png" tppabs="http://clsn.io/wp-content/uploads/2018/09/Frog-2.png" /><link rel="profile" href="11" tppabs="http://gmpg.org/xfn/11"><link rel="pingback" href="xmlrpc.php" tppabs="http://clsn.io/xmlrpc.php"><!--[if lt IE 9]><script src="/wp-content/themes/clsn-003/js/html5.js"></script><script src="/wp-content/themes/clsn-003/js/css3-mediaqueries.js"></script><![endif]--><link rel='stylesheet' id='begin-style-css' href="style.css-ver=5.2" tppabs="http://clsn.io/wp-content/themes/clsn-003/style.css?ver=5.2" type='text/css' media='all' /><link rel='stylesheet' id='fonts-css' href="fonts.css-ver=2017.07.26" tppabs="http://clsn.io/wp-content/themes/clsn-003/css/fonts/fonts.css?ver=2017.07.26" type='text/css' media='all' /><link rel='stylesheet' id='highlight-css' href="highlight.css-ver=2017.07.26" tppabs="http://clsn.io/wp-content/themes/clsn-003/css/highlight.css?ver=2017.07.26" type='text/css' media='all' /><script type='text/javascript' src="jquery.min.js-ver=1.10.1" tppabs="http://clsn.io/wp-content/themes/clsn-003/js/jquery.min.js?ver=1.10.1"></script><link rel="canonical" href="lx247.html" tppabs="http://clsn.io/clsn/lx247.html" /><link rel="icon" href="Frog-2.png" tppabs="http://clsn.io/wp-content/uploads/2018/09/Frog-2.png" sizes="32x32" /><link rel="icon" href="Frog-2.png" tppabs="http://clsn.io/wp-content/uploads/2018/09/Frog-2.png" sizes="192x192" /><link rel="apple-touch-icon-precomposed" href="Frog-2.png" tppabs="http://clsn.io/wp-content/uploads/2018/09/Frog-2.png" /><meta name="msapplication-TileImage" content="/wp-content/uploads/2018/09/Frog-2.png" /></head><body class="post-template-default single single-post postid-247 single-format-standard"><div id="page" class="hfeed site"> <header id="masthead" class="site-header"> <div id="header-main" class="header-main"> <nav id="top-header"> <div class="top-nav"> <div class="menu-%e8%81%94%e7%b3%bb%e6%96%b9%e5%bc%8f-container"><ul id="menu-%e8%81%94%e7%b3%bb%e6%96%b9%e5%bc%8f" class="top-menu"><li id="menu-item-1268" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1268"><a href="index.htm" tppabs="http://clsn.io/">åšå®¢åœ°å€</a></li><li id="menu-item-1269" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1269"><a href="javascript:if(confirm('https://shang.qq.com/wpa/qunwpa?idkey=20c5455d6aaf8df9722be043588a9adda7cd9a18b6563744e4143d736559d946  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ´ËÒ»µØÖ·Ê¹ÓÃÉĞÎ´Ö§³ÖµÄĞ­Òé (ÀıÈç£¬gopher)¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='https://shang.qq.com/wpa/qunwpa?idkey=20c5455d6aaf8df9722be043588a9adda7cd9a18b6563744e4143d736559d946'" tppabs="https://shang.qq.com/wpa/qunwpa?idkey=20c5455d6aaf8df9722be043588a9adda7cd9a18b6563744e4143d736559d946">Linuxè€å¸æœº</a></li><li id="menu-item-1270" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1270"><a href="javascript:if(confirm('https://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ´ËÒ»µØÖ·Ê¹ÓÃÉĞÎ´Ö§³ÖµÄĞ­Òé (ÀıÈç£¬gopher)¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='https://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&#038;email=clsn@nmtui.com'" tppabs="https://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&#038;email=clsn@nmtui.com">ç»™æˆ‘å‘é‚®ä»¶</a></li></ul></div> </div> </nav><!-- #top-header --> <div id="menu-box"> <div id="top-menu"> <span class="nav-search"></span> <div class="logo-site"> <p class="site-title"> <a href="index.htm" tppabs="http://clsn.io/"><img src="1-1.png" tppabs="http://clsn.io/wp-content/uploads/2018/09/1-1.png" title="æƒ¨ç»¿å°‘å¹´" alt="æƒ¨ç»¿å°‘å¹´" rel="home" /><span class="site-name">æƒ¨ç»¿å°‘å¹´</span></a> </p> </div><!-- .logo-site --> <div id="site-nav-wrap"> <div id="sidr-close"><a href="#sidr-close" class="toggle-sidr-close">Ã—</a></div> <div id="sidr-menu"><div class="toggle-sidr-menu">MENU</a></div></div> <nav id="site-nav" class="main-nav"> <a href="#sidr-main" id="navigation-toggle" class="bars"><i class="be be-menu"></i></a> <div class="menu-%e6%83%a8%e7%bb%bf%e5%b0%91%e5%b9%b4-container"><ul id="menu-%e6%83%a8%e7%bb%bf%e5%b0%91%e5%b9%b4" class="down-menu nav-menu"><li id="menu-item-1053" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-has-children menu-item-1053"><a href="javascript:if(confirm('http://clsn.io/clsn-ops/ops-linux/  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüÎŞ·¨È¡µÃ£¬»òÖøËüÈ¡»Øºó·ÅÆú£¬»òÊÇÏîÄ¿Í£Ö¹µÄÌ«¿ì¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://clsn.io/clsn-ops/ops-linux/'" tppabs="http://clsn.io/clsn-ops/ops-linux/">è¿ç»´åŸºæœ¬åŠŸ</a><ul class="sub-menu"> <li id="menu-item-1054" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1054"><a href="javascript:if(confirm('http://clsn.io/clsn-ops/ops-linux/dev-shell/  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüÎŞ·¨È¡µÃ£¬»òÖøËüÈ¡»Øºó·ÅÆú£¬»òÊÇÏîÄ¿Í£Ö¹µÄÌ«¿ì¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://clsn.io/clsn-ops/ops-linux/dev-shell/'" tppabs="http://clsn.io/clsn-ops/ops-linux/dev-shell/">Shellç¼–ç¨‹</a></li> <li id="menu-item-1055" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1055"><a href="index-3.htm" tppabs="http://clsn.io/clsn-ops/ops-linux/web-app/">Webåº”ç”¨</a></li> <li id="menu-item-1056" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1056"><a href="index-4.htm" tppabs="http://clsn.io/clsn-ops/ops-linux/monitor/">ç›‘æ§æœåŠ¡</a></li> <li id="menu-item-1057" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1057"><a href="index-5.htm" tppabs="http://clsn.io/clsn-ops/ops-linux/automation/">è‡ªåŠ¨åŒ–</a></li> <li id="menu-item-1058" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1058"><a href="index-6.htm" tppabs="http://clsn.io/clsn-ops/ops-linux/storage/">å­˜å‚¨</a></li> <li id="menu-item-1059" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1059"><a href="javascript:if(confirm('http://clsn.io/clsn-ops/ops-linux/acl/  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüÎŞ·¨È¡µÃ£¬»òÖøËüÈ¡»Øºó·ÅÆú£¬»òÊÇÏîÄ¿Í£Ö¹µÄÌ«¿ì¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://clsn.io/clsn-ops/ops-linux/acl/'" tppabs="http://clsn.io/clsn-ops/ops-linux/acl/">å®‰å…¨</a></li></ul></li><li id="menu-item-1044" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-1044"><a href="index-8.htm" tppabs="http://clsn.io/clsn-ops/cloud/">äº‘è®¡ç®—</a><ul class="sub-menu"> <li id="menu-item-1046" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1046"><a href="javascript:if(confirm('http://clsn.io/clsn-ops/cloud/virt/  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüÎŞ·¨È¡µÃ£¬»òÖøËüÈ¡»Øºó·ÅÆú£¬»òÊÇÏîÄ¿Í£Ö¹µÄÌ«¿ì¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://clsn.io/clsn-ops/cloud/virt/'" tppabs="http://clsn.io/clsn-ops/cloud/virt/">è™šæ‹ŸåŒ–</a></li> <li id="menu-item-1045" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1045"><a href="javascript:if(confirm('http://clsn.io/clsn-ops/cloud/openstack/  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüÎŞ·¨È¡µÃ£¬»òÖøËüÈ¡»Øºó·ÅÆú£¬»òÊÇÏîÄ¿Í£Ö¹µÄÌ«¿ì¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://clsn.io/clsn-ops/cloud/openstack/'" tppabs="http://clsn.io/clsn-ops/cloud/openstack/">OpenStack</a></li></ul></li><li id="menu-item-1048" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-has-children menu-item-1048"><a href="index-11.htm" tppabs="http://clsn.io/clsn-ops/databases/">æ•°æ®åº“</a><ul class="sub-menu"> <li id="menu-item-1049" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1049"><a href="javascript:if(confirm('http://clsn.io/clsn-ops/databases/mysql/  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüÎŞ·¨È¡µÃ£¬»òÖøËüÈ¡»Øºó·ÅÆú£¬»òÊÇÏîÄ¿Í£Ö¹µÄÌ«¿ì¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://clsn.io/clsn-ops/databases/mysql/'" tppabs="http://clsn.io/clsn-ops/databases/mysql/">MySQL</a></li> <li id="menu-item-1050" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-1050"><a href="index-13.htm" tppabs="http://clsn.io/clsn-ops/databases/nosql/">NoSQL</a></li></ul></li><li id="menu-item-1052" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1052"><a href="index-14.htm" tppabs="http://clsn.io/clsn-ops/network/">ç½‘ç»œæŠ€æœ¯</a></li><li id="menu-item-1051" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1051"><a href="index-15.htm" tppabs="http://clsn.io/clsn-ops/play-linux/">ç©è½¬Linux</a></li><li id="menu-item-1047" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1047"><a href="index-16.htm" tppabs="http://clsn.io/clsn-ops/dev-ops/">æ•æ·å¼€å‘</a></li><li id="menu-item-1258" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1258"><a href="contribute-page.htm" tppabs="http://clsn.io/contribute-page">æŠ•ç¨¿</a></li></ul></div> </nav><!-- #site-nav --> </div><!-- #site-nav-wrap --> <div class="clear"></div> </div><!-- #top-menu --> </div><!-- #menu-box --> </div><!-- #menu-box --></header><!-- #masthead --><div id="search-main"> <div class="searchbar"> <form method="get" id="searchform" action="http://clsn.io/"> <span class="search-input"> <input type="text" value="" name="s" id="s" placeholder="è¾“å…¥æœç´¢å†…å®¹" required /> <button type="submit" id="searchsubmit"><i class="be be-search"></i></button> </span> </form></div> <div class="clear"></div></div> <nav class="breadcrumb"> <a class="crumbs" href="index.htm" tppabs="http://clsn.io/"><i class="be be-home"></i>é¦–é¡µ</a><i class="be be-arrowright"></i><a href="javascript:if(confirm('http://clsn.io/clsn-ops/linux%e8%bf%90%e7%bb%b4/  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüÎŞ·¨È¡µÃ£¬»òÖøËüÈ¡»Øºó·ÅÆú£¬»òÊÇÏîÄ¿Í£Ö¹µÄÌ«¿ì¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://clsn.io/clsn-ops/linux%e8%bf%90%e7%bb%b4/'" tppabs="http://clsn.io/clsn-ops/linux%e8%bf%90%e7%bb%b4/" rel="category tag">Linuxè¿ç»´</a><i class="be be-arrowright"></i><a href="index-11.htm" tppabs="http://clsn.io/clsn-ops/databases/">æ•°æ®åº“</a><i class="be be-arrowright"></i><a href="index-13.htm" tppabs="http://clsn.io/clsn-ops/databases/nosql/" rel="category tag">NoSQL</a><i class="be be-arrowright"></i><a href="index-11.htm" tppabs="http://clsn.io/clsn-ops/databases/" rel="category tag">æ•°æ®åº“</a><i class="be be-arrowright"></i><a href="javascript:if(confirm('http://clsn.io/clsn-ops/ops-linux/  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüÎŞ·¨È¡µÃ£¬»òÖøËüÈ¡»Øºó·ÅÆú£¬»òÊÇÏîÄ¿Í£Ö¹µÄÌ«¿ì¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://clsn.io/clsn-ops/ops-linux/'" tppabs="http://clsn.io/clsn-ops/ops-linux/" rel="category tag">è¿ç»´åŸºæœ¬åŠŸ</a><i class="be be-arrowright"></i>MongoDBçš„å¤‡ä»½ä¸æ¢å¤ </nav> <div id="content" class="site-content"> <div id="primary" class="content-area"> <main id="main" class="site-main" role="main"> <article id="post-247" class="post-247 post type-post status-publish format-standard hentry category-linux category-nosql category-databases category-ops-linux ury"> <header class="entry-header"> <h1 class="entry-title">MongoDBçš„å¤‡ä»½ä¸æ¢å¤</h1> </header><!-- .entry-header --> <div class="entry-content"> <div class="begin-single-meta"><span class="my-date"><i class="be be-schedule"></i> 2018å¹´1æœˆ20æ—¥<i class="i-time">07:34:00</i></span><span class="comment"><a href="lx247.html#respond" tppabs="http://clsn.io/clsn/lx247.html#respond" rel="external nofollow"><i class="be be-speechbubble"></i> å‘è¡¨è¯„è®º</a></span><span class="print"><a href="javascript:printme()" target="_self" title="æ‰“å°"><i class="be be-print"></i></a></span><span class="s-hide"><a href="#"><span class="off-side"></span></a></span></div> <div class="single-content"> <div class='favorite-box'><span class='favorite-e'><a class='wpzm-link' href="javascript:if(confirm('http://clsn.io/clsn/lx247.html?wpzmaction=add&postid=247  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüÎŞ·¨È¡µÃ£¬»òÖøËüÈ¡»Øºó·ÅÆú£¬»òÊÇÏîÄ¿Í£Ö¹µÄÌ«¿ì¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://clsn.io/clsn/lx247.html?wpzmaction=add&postid=247'" tppabs="http://clsn.io/clsn/lx247.html?wpzmaction=add&postid=247" rel='nofollow'> æ”¶ <i class="be be-favorite"></i> è—</a></span></div> <h2>1.1 MongoDBçš„å¸¸ç”¨å‘½ä»¤</h2>
<div>
<div class="cnblogs_code">
<pre>mongoexport /<span style="color: #000000;"> mongoimport
mongodump  </span>/ mongorestore</pre>
</div>
<p>ã€€ã€€&nbsp; &nbsp;æœ‰ä»¥ä¸Šä¸¤ç»„å‘½ä»¤åœ¨å¤‡ä»½ä¸æ¢å¤ä¸­è¿›è¡Œä½¿ç”¨ã€‚</p>
</div>
<h3>1.1.1 å¯¼å‡ºå·¥å…·mongoexport</h3>
<p>Mongodbä¸­çš„mongoexportå·¥å…·å¯ä»¥æŠŠä¸€ä¸ªcollectionå¯¼å‡ºæˆJSONæ ¼å¼æˆ–CSVæ ¼å¼çš„æ–‡ä»¶ã€‚å¯ä»¥é€šè¿‡å‚æ•°æŒ‡å®šå¯¼å‡ºçš„æ•°æ®é¡¹ï¼Œä¹Ÿå¯ä»¥æ ¹æ®æŒ‡å®šçš„æ¡ä»¶å¯¼å‡ºæ•°æ®ã€‚</p>
<p>&nbsp;&nbsp; è¯¥å‘½ä»¤çš„å‚æ•°å¦‚ä¸‹ï¼š</p>
<table class="MsoTable15Grid2" style="width: 100%; border-width: initial; border-style: none; border-color: initial;" border="1" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td style="width: 40.64%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1.5pt; border-bottom-color: #666666; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; padding: 0cm 5.4pt;" valign="top" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 5;" align="center"><strong><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">å‚æ•°</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1.5pt; border-bottom-color: #666666; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; padding: 0cm 5.4pt;" valign="top" width="59%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 1;" align="center"><strong><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">å‚æ•°è¯´æ˜</span></strong></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" valign="top" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 68;" align="center"><strong><span lang="EN-US">-h</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" valign="top" width="59%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 64;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æŒ‡æ˜æ•°æ®åº“å®¿ä¸»æœºçš„</span><span lang="EN-US">IP</span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; padding: 0cm 5.4pt;" valign="top" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 4;" align="center"><strong><span lang="EN-US">-u</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; padding: 0cm 5.4pt;" valign="top" width="59%">
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æŒ‡æ˜æ•°æ®åº“çš„ç”¨æˆ·å</span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" valign="top" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 68;" align="center"><strong><span lang="EN-US">-p</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" valign="top" width="59%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 64;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æŒ‡æ˜æ•°æ®åº“çš„å¯†ç </span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; padding: 0cm 5.4pt;" valign="top" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 4;" align="center"><strong><span lang="EN-US">-d</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; padding: 0cm 5.4pt;" valign="top" width="59%">
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æŒ‡æ˜æ•°æ®åº“çš„åå­—</span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" valign="top" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 68;" align="center"><strong><span lang="EN-US">-c</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" valign="top" width="59%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 64;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æŒ‡æ˜</span><span lang="EN-US">collection</span><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">çš„åå­—</span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; padding: 0cm 5.4pt;" valign="top" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 4;" align="center"><strong><span lang="EN-US">-f</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; padding: 0cm 5.4pt;" valign="top" width="59%">
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æŒ‡æ˜è¦å¯¼å‡ºé‚£äº›åˆ—</span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" valign="top" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 68;" align="center"><strong><span lang="EN-US">-o</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" valign="top" width="59%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 64;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æŒ‡æ˜åˆ°è¦å¯¼å‡ºçš„æ–‡ä»¶å</span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; padding: 0cm 5.4pt;" valign="top" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 4;" align="center"><strong><span lang="EN-US">-q</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; padding: 0cm 5.4pt;" valign="top" width="59%">
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æŒ‡æ˜å¯¼å‡ºæ•°æ®çš„è¿‡æ»¤æ¡ä»¶</span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" valign="top" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 68;" align="center"><strong><span lang="EN-US">--type</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" valign="top" width="59%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 64;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æŒ‡å®šæ–‡ä»¶ç±»å‹</span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; padding: 0cm 5.4pt;" valign="top" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 4;" align="center"><strong><span lang="EN-US">--authenticationDatabase</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; padding: 0cm 5.4pt;" valign="top" width="59%">
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">éªŒè¯æ•°æ®çš„åç§°</span></p>
</td>
</tr>
</tbody>
</table>
<p><span style="background-color: #ffff00;"><strong>mongoexport</strong><strong>å¤‡ä»½å®è·µ</strong></span></p>
<p>å¤‡ä»½appåº“ä¸‹çš„vasté›†åˆ</p>
<div>
<div class="cnblogs_code">
<pre>mongoexport -h <span style="color: #800080;">10.0</span>.<span style="color: #800080;">0.152</span>:<span style="color: #800080;">27017</span> -uroot -proot --authenticationDatabase admin -d app -c vast -o /home/mongod/backup/vasts.dat</pre>
</div>
</div>
<p align="right">æ³¨ï¼šå¤‡ä»½æ–‡ä»¶çš„åå­—å¯ä»¥è‡ªå®šä¹‰ï¼Œé»˜è®¤å¯¼å‡ºäº†JSONæ ¼å¼çš„æ•°æ®ã€‚</p>
<p>å¯¼å‡ºCSVæ ¼å¼çš„æ•°æ®</p>
<div>
<div class="cnblogs_code">
<pre>mongoexport -h <span style="color: #800080;">10.0</span>.<span style="color: #800080;">0.152</span>:<span style="color: #800080;">27017</span> -uroot -proot --authenticationDatabase admin  -d app -c vast --type=csv -f id,name -o /home/mongod/backup/vast_csv.dat</pre>
</div>
</div>
<h3>1.1.2 å¯¼å…¥å·¥å…·mongoimport</h3>
<p>ã€€ã€€Mongodbä¸­çš„mongoimportå·¥å…·å¯ä»¥æŠŠä¸€ä¸ªç‰¹å®šæ ¼å¼æ–‡ä»¶ä¸­çš„å†…å®¹å¯¼å…¥åˆ°æŒ‡å®šçš„collectionä¸­ã€‚è¯¥å·¥å…·å¯ä»¥å¯¼å…¥JSONæ ¼å¼æ•°æ®ï¼Œä¹Ÿå¯ä»¥å¯¼å…¥CSVæ ¼å¼æ•°æ®ã€‚</p>
<p>è¯¥å‘½ä»¤çš„å‚æ•°å¦‚ä¸‹ï¼š&nbsp;&nbsp;&nbsp;</p>
<table class="MsoTable15Grid2" style="width: 100%; border-width: initial; border-style: none; border-color: initial;" border="1" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td style="width: 40.64%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1.5pt; border-bottom-color: #666666; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; padding: 0cm 5.4pt;" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 5;" align="center"><strong><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">å‚æ•°</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1.5pt; border-bottom-color: #666666; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; padding: 0cm 5.4pt;" width="59%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 1;" align="center"><strong><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">å‚æ•°è¯´æ˜</span></strong></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 68;" align="center"><strong><span lang="EN-US">-h</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" width="59%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 64;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æŒ‡æ˜æ•°æ®åº“å®¿ä¸»æœºçš„</span><span lang="EN-US">IP</span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; padding: 0cm 5.4pt;" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 4;" align="center"><strong><span lang="EN-US">-u</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; padding: 0cm 5.4pt;" width="59%">
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æŒ‡æ˜æ•°æ®åº“çš„ç”¨æˆ·å</span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 68;" align="center"><strong><span lang="EN-US">-p</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" width="59%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 64;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æŒ‡æ˜æ•°æ®åº“çš„å¯†ç </span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; padding: 0cm 5.4pt;" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 4;" align="center"><strong><span lang="EN-US">-d</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; padding: 0cm 5.4pt;" width="59%">
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æŒ‡æ˜æ•°æ®åº“çš„åå­—</span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 68;" align="center"><strong><span lang="EN-US">-c</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" width="59%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 64;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æŒ‡æ˜</span><span lang="EN-US">collection</span><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">çš„åå­—</span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; padding: 0cm 5.4pt;" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 4;" align="center"><strong><span lang="EN-US">-f</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; padding: 0cm 5.4pt;" width="59%">
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æŒ‡æ˜è¦å¯¼å‡ºé‚£äº›åˆ—</span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 68;" align="center"><strong><span lang="EN-US">-o</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" width="59%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 64;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æŒ‡æ˜åˆ°è¦å¯¼å‡ºçš„æ–‡ä»¶å</span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; padding: 0cm 5.4pt;" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 4;" align="center"><strong><span lang="EN-US">-q</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; padding: 0cm 5.4pt;" width="59%">
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æŒ‡æ˜å¯¼å‡ºæ•°æ®çš„è¿‡æ»¤æ¡ä»¶</span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 68;" align="center"><strong><span lang="EN-US">--drop</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" width="59%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 64;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æ’å…¥ä¹‹å‰å…ˆåˆ é™¤åŸæœ‰çš„</span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; padding: 0cm 5.4pt;" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 4;" align="center"><strong><span lang="EN-US">--headerline</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; padding: 0cm 5.4pt;" width="59%">
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æŒ‡æ˜ç¬¬ä¸€è¡Œæ˜¯åˆ—åï¼Œä¸éœ€è¦å¯¼å…¥ã€‚</span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 68;" align="center"><strong><span lang="EN-US">-j</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" width="59%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 64;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">åŒæ—¶è¿è¡Œçš„æ’å…¥æ“ä½œæ•°ï¼ˆé»˜è®¤ä¸º</span><span lang="EN-US">1</span><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">ï¼‰ï¼Œå¹¶è¡Œ</span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; padding: 0cm 5.4pt;" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 4;" align="center"><strong><span lang="EN-US">--authenticationDatabase</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; padding: 0cm 5.4pt;" width="59%">
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">éªŒè¯æ•°æ®çš„åç§°</span></p>
</td>
</tr>
</tbody>
</table>
<p><strong>mongoimport</strong><strong>æ¢å¤å®è·µ</strong></p>
<div>
<p class="a1">å°†ä¹‹å‰æ¢å¤çš„æ•°æ®å¯¼å…¥</p>
<div class="cnblogs_code">
<pre>mongoimport -h <span style="color: #800080;">10.0</span>.<span style="color: #800080;">0.152</span>:<span style="color: #800080;">27017</span> -uroot -proot --authenticationDatabase admin  -d app -c vast  --drop /home/mongod/backup/vasts.dat</pre>
</div>
</div>
<p>å°†ä¹‹å‰æ¢å¤çš„CSVæ ¼å¼æ•°æ®å¯¼å…¥</p>
<div>
<div class="cnblogs_code">
<pre>mongoimport -h <span style="color: #800080;">10.0</span>.<span style="color: #800080;">0.152</span>:<span style="color: #800080;">27017</span> -uroot -proot --authenticationDatabase admin -d app -c vast --type=csv --headerline --file vast_csv.dat</pre>
</div>
</div>
<h3>1.1.3 ã€å®éªŒã€‘mysqlæ•°æ®è¿ç§»è‡³mongodbæ•°æ®åº“</h3>
<p>ã€€ã€€ã€€ã€€mysqlç›¸å…³çš„å‚è€ƒæ–‡æ¡£ï¼š<a href="javascript:if(confirm('http://clsn.io/wp-content/themes/clsn-003/inc/go.php?url=http://www.cnblogs.com/clsn/category/1131345.html  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüÎŞ·¨È¡µÃ£¬»òÖøËüÈ¡»Øºó·ÅÆú£¬»òÊÇÏîÄ¿Í£Ö¹µÄÌ«¿ì¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://clsn.io/wp-content/themes/clsn-003/inc/go.php?url=http://www.cnblogs.com/clsn/category/1131345.html'" tppabs="http://clsn.io/wp-content/themes/clsn-003/inc/go.php?url=http://www.cnblogs.com/clsn/category/1131345.html" >http://www.cnblogs.com/clsn/category/1131345.html</a></p>
<p>å°†mysqlæ•°æ®åº“ä¸­çš„mysqlä¸‹çš„userè¡¨å¯¼å‡ºã€‚</p>
<div>
<div class="cnblogs_code">
<pre><span style="color: #0000ff;">select</span> <span style="color: #ff00ff;">user</span>,host,password <span style="color: #0000ff;">from</span> mysql.<span style="color: #ff00ff;">user</span>
<span style="color: #0000ff;">into</span> outfile <span style="color: #ff0000;">'</span><span style="color: #ff0000;">/tmp/user.csv</span><span style="color: #ff0000;">'</span><span style="color: #000000;">
fields terminated </span><span style="color: #0000ff;">by</span> <span style="color: #ff0000;">'</span><span style="color: #ff0000;">,</span><span style="color: #ff0000;">'</span><span style="color: #000000;">
optionally enclosed </span><span style="color: #0000ff;">by</span> <span style="color: #ff0000;">'</span><span style="color: #ff0000;">"</span><span style="color: #ff0000;">'</span><span style="color: #000000;">
escaped </span><span style="color: #0000ff;">by</span> <span style="color: #ff0000;">'</span><span style="color: #ff0000;">"</span><span style="color: #ff0000;">'</span><span style="color: #000000;"> 
lines terminated </span><span style="color: #0000ff;">by</span> <span style="color: #ff0000;">'</span><span style="color: #ff0000;">\r\n</span><span style="color: #ff0000;">'</span>;</pre>
</div>
</div>
<p>å‘½ä»¤è¯´æ˜ï¼š</p>
<div>
<div class="cnblogs_code">
<pre><span style="color: #0000ff;">into</span> outfile <span style="color: #ff0000;">'</span><span style="color: #ff0000;">/tmp/user.csv</span><span style="color: #ff0000;">' </span> <span style="color: #008080;">--</span><span style="color: #008080;">----å¯¼å‡ºæ–‡ä»¶ä½ç½®  </span>
fields terminated <span style="color: #0000ff;">by</span> <span style="color: #ff0000;">'</span><span style="color: #ff0000;">,</span><span style="color: #ff0000;">'</span>ã€€ã€€   <span style="color: #008080;">--</span><span style="color: #008080;">----å­—æ®µé—´ä»¥,å·åˆ†éš”</span>
optionally enclosed <span style="color: #0000ff;">by</span> <span style="color: #ff0000;">'</span><span style="color: #ff0000;">"</span><span style="color: #ff0000;">'</span>ã€€  <span style="color: #008080;">--</span><span style="color: #008080;">----å­—æ®µç”¨"å·æ‹¬èµ·</span>
escaped <span style="color: #0000ff;">by</span> <span style="color: #ff0000;">'</span><span style="color: #ff0000;">"</span><span style="color: #ff0000;">'</span>   ã€€ã€€ã€€ã€€ã€€   ã€€<span style="color: #008080;">--</span><span style="color: #008080;">----å­—æ®µä¸­ä½¿ç”¨çš„è½¬ä¹‰ç¬¦ä¸º"</span>
lines terminated <span style="color: #0000ff;">by</span> <span style="color: #ff0000;">'</span><span style="color: #ff0000;">\r\n</span><span style="color: #ff0000;">'</span>; ã€€<span style="color: #008080;">--</span><span style="color: #008080;">----è¡Œä»¥\r\nç»“æŸ</span></pre>
</div>
</div>
<p>æŸ¥çœ‹å¯¼å‡ºå†…å®¹</p>
<div>
<div class="cnblogs_code">
<pre><span style="color: #ff0000;">[</span><span style="color: #ff0000;"><a href="email-protection.htm" tppabs="http://clsn.io/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="e38e8c8d848c87a3ae8c8d848ca7a1">[email&#160;protected]</a> tmp</span><span style="color: #ff0000;">]</span>$ cat <span style="color: #ff00ff;">user</span><span style="color: #000000;">.csv 
"root","localhost",""
"root","db02",""
"root","</span><span style="color: #800000; font-weight: bold;">127.0</span>.<span style="color: #800000; font-weight: bold;">0.1</span><span style="color: #000000;">",""
"root","::</span><span style="color: #800000; font-weight: bold;">1</span><span style="color: #000000;">",""
"","localhost",""
"","db02",""
"repl","</span><span style="color: #800000; font-weight: bold;">10.0</span>.<span style="color: #800000; font-weight: bold;">0</span>.<span style="color: #808080;">%</span>","<span style="color: #808080;">*</span><span style="color: #000000;">23AE809DDACAF96AF0FD78ED04B6A265E05AA257"
"mha","</span><span style="color: #800000; font-weight: bold;">10.0</span>.<span style="color: #800000; font-weight: bold;">0</span>.<span style="color: #808080;">%</span>","<span style="color: #808080;">*</span>F4C9AC49A736981AE2739FC2F4A1FD92B4F07929"</pre>
</div>
</div>
<p>åœ¨mongodbä¸­å¯¼å…¥æ•°æ®</p>
<div>
<div class="cnblogs_code">
<pre>mongoimport <span style="color: #808080;">-</span>h <span style="color: #800000; font-weight: bold;">10.0</span>.<span style="color: #800000; font-weight: bold;">0.152</span>:<span style="color: #800000; font-weight: bold;">27017</span> <span style="color: #808080;">-</span>uroot <span style="color: #808080;">-</span>proot <span style="color: #008080;">--</span><span style="color: #008080;">authenticationDatabase admin -d app -c user -f user,host,password  --type=csv --file /tmp/user.csv</span></pre>
</div>
</div>
<p>&nbsp;&nbsp; æŸ¥çœ‹å¯¼å…¥çš„å†…å®¹</p>
<div>
<div class="cnblogs_code">
<pre><span style="color: #ff0000;">[</span><span style="color: #ff0000;"><a href="email-protection.htm" tppabs="http://clsn.io/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="dcaeb3b3a89c91b3b2bbb3989e">[email&#160;protected]</a> tmp</span><span style="color: #ff0000;">]</span># mongo <span style="color: #008080;">--</span><span style="color: #008080;">port 27017 </span>
MongoDB shell version: <span style="color: #800000; font-weight: bold;">3.2</span>.<span style="color: #800000; font-weight: bold;">8</span><span style="color: #000000;">
connecting </span><span style="color: #0000ff;">to</span>: <span style="color: #800000; font-weight: bold;">127.0</span>.<span style="color: #800000; font-weight: bold;">0.1</span>:<span style="color: #800000; font-weight: bold;">27017</span><span style="color: #808080;">/</span><span style="color: #000000;">test
</span><span style="color: #808080;">></span> <span style="color: #0000ff;">use</span><span style="color: #000000;"> app 
switched </span><span style="color: #0000ff;">to</span><span style="color: #000000;"> db app
</span><span style="color: #808080;">></span> db.<span style="color: #ff00ff;">user</span><span style="color: #000000;">.find()
{ "_id" : ObjectId("5a53206b3b42ae4683180009"), "</span><span style="color: #ff00ff;">user</span><span style="color: #000000;">" : "root\tlocalhost" }
{ "_id" : ObjectId("5a53206b3b42ae468318000a"), "</span><span style="color: #ff00ff;">user</span><span style="color: #000000;">" : "root\tdb02" }
{ "_id" : ObjectId("5a53206b3b42ae468318000b"), "</span><span style="color: #ff00ff;">user</span>" : "root\t127.<span style="color: #800000; font-weight: bold;">0.0</span>.<span style="color: #800000; font-weight: bold;">1</span><span style="color: #000000;">" }
{ "_id" : ObjectId("5a53206b3b42ae468318000c"), "</span><span style="color: #ff00ff;">user</span>" : "root\t::<span style="color: #800000; font-weight: bold;">1</span><span style="color: #000000;">" }
{ "_id" : ObjectId("5a53206b3b42ae468318000d"), "</span><span style="color: #ff00ff;">user</span><span style="color: #000000;">" : "localhost" }
{ "_id" : ObjectId("5a53206b3b42ae468318000e"), "</span><span style="color: #ff00ff;">user</span><span style="color: #000000;">" : "db02" }
{ "_id" : ObjectId("5a53206b3b42ae468318000f"), "</span><span style="color: #ff00ff;">user</span>" : "repl\t10.<span style="color: #800000; font-weight: bold;">0.0</span>.<span style="color: #808080;">%</span>\t<span style="color: #808080;">*</span><span style="color: #000000;">23AE809DDACAF96AF0FD78ED04B6A265E05AA257" }
{ "_id" : ObjectId("5a53206b3b42ae4683180010"), "</span><span style="color: #ff00ff;">user</span>" : "mha\t10.<span style="color: #800000; font-weight: bold;">0.0</span>.<span style="color: #808080;">%</span>\t<span style="color: #808080;">*</span>F4C9AC49A736981AE2739FC2F4A1FD92B4F07929" }</pre>
</div>
<p>ã€€ã€€&nbsp; &nbsp;åˆ°æ­¤æ•°æ®è¿ç§»å®Œæˆã€‚</p>
</div>
<h2>1.2 mongodump/mongorestoreå®è·µ</h2>
<h3>1.2.1 mongodumpå¤‡ä»½å·¥å…·</h3>
<p>ã€€ã€€mongodumpçš„å‚æ•°ä¸mongoexportçš„å‚æ•°åŸºæœ¬ä¸€è‡´&nbsp;</p>
<table class="MsoTable15Grid2" style="width: 100%; border-width: initial; border-style: none; border-color: initial;" border="1" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td style="width: 40.64%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1.5pt; border-bottom-color: #666666; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; padding: 0cm 5.4pt;" valign="top" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 5;" align="center"><strong><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">å‚æ•°</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1.5pt; border-bottom-color: #666666; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; padding: 0cm 5.4pt;" valign="top" width="59%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 1;" align="center"><strong><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">å‚æ•°è¯´æ˜</span></strong></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" valign="top" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 68;" align="center"><strong><span lang="EN-US">-h</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" valign="top" width="59%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 64;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æŒ‡æ˜æ•°æ®åº“å®¿ä¸»æœºçš„</span><span lang="EN-US">IP</span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; padding: 0cm 5.4pt;" valign="top" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 4;" align="center"><strong><span lang="EN-US">-u</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; padding: 0cm 5.4pt;" valign="top" width="59%">
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æŒ‡æ˜æ•°æ®åº“çš„ç”¨æˆ·å</span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" valign="top" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 68;" align="center"><strong><span lang="EN-US">-p</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" valign="top" width="59%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 64;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æŒ‡æ˜æ•°æ®åº“çš„å¯†ç </span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; padding: 0cm 5.4pt;" valign="top" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 4;" align="center"><strong><span lang="EN-US">-d</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; padding: 0cm 5.4pt;" valign="top" width="59%">
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æŒ‡æ˜æ•°æ®åº“çš„åå­—</span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" valign="top" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 68;" align="center"><strong><span lang="EN-US">-c</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" valign="top" width="59%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 64;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æŒ‡æ˜</span><span lang="EN-US">collection</span><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">çš„åå­—</span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; padding: 0cm 5.4pt;" valign="top" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 4;" align="center"><strong><span lang="EN-US">-o</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; padding: 0cm 5.4pt;" valign="top" width="59%">
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æŒ‡æ˜åˆ°è¦å¯¼å‡ºçš„æ–‡ä»¶å</span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" valign="top" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 68;" align="center"><strong><span lang="EN-US">-q</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" valign="top" width="59%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 64;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æŒ‡æ˜å¯¼å‡ºæ•°æ®çš„è¿‡æ»¤æ¡ä»¶</span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; padding: 0cm 5.4pt;" valign="top" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 4;" align="center"><strong><span lang="EN-US">--authenticationDatabase</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; padding: 0cm 5.4pt;" valign="top" width="59%">
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">éªŒè¯æ•°æ®çš„åç§°</span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" valign="top" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 68;" align="center"><strong><span lang="EN-US">--gzip</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" valign="top" width="59%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 64;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">å¤‡ä»½æ—¶å‹ç¼©</span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; padding: 0cm 5.4pt;" valign="top" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 4;" align="center"><strong><span lang="EN-US">--oplog</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; padding: 0cm 5.4pt;" valign="top" width="59%">
<p class="MsoNormal" style="text-align: center;" align="center"><span lang="EN-US">use oplog for taking a point-in-time snapshot</span></p>
</td>
</tr>
</tbody>
</table>
<p><strong>mongodump</strong><strong>å‚æ•°å®è·µ</strong></p>
<div>
<p class="a1">å…¨åº“å¤‡ä»½</p>
<div class="cnblogs_code">
<pre>mongodump <span style="color: #808080;">-</span>h <span style="color: #800000; font-weight: bold;">10.0</span>.<span style="color: #800000; font-weight: bold;">0.152</span>:<span style="color: #800000; font-weight: bold;">27017</span> <span style="color: #808080;">-</span>uroot <span style="color: #808080;">-</span>proot <span style="color: #008080;">--</span><span style="color: #008080;">authenticationDatabase admin  -o /home/mongod/backup/full</span></pre>
</div>
</div>
<p>å¤‡ä»½teståº“</p>
<div>
<div class="cnblogs_code">
<pre>mongodump <span style="color: #808080;">-</span>h <span style="color: #800000; font-weight: bold;">10.0</span>.<span style="color: #800000; font-weight: bold;">0.152</span>:<span style="color: #800000; font-weight: bold;">27017</span> <span style="color: #808080;">-</span>uroot <span style="color: #808080;">-</span>proot <span style="color: #008080;">--</span><span style="color: #008080;">authenticationDatabase admin  -d test -o /home/mongod/backup/</span></pre>
</div>
</div>
<p>å¤‡ä»½teståº“ä¸‹çš„vasté›†åˆ</p>
<div>
<div class="cnblogs_code">
<pre>mongodump <span style="color: #808080;">-</span>h <span style="color: #800000; font-weight: bold;">10.0</span>.<span style="color: #800000; font-weight: bold;">0.152</span>:<span style="color: #800000; font-weight: bold;">27017</span> <span style="color: #808080;">-</span>uroot <span style="color: #808080;">-</span>proot <span style="color: #008080;">--</span><span style="color: #008080;">authenticationDatabase admin  -d test -c vast -o /home/mongod/backup/</span></pre>
</div>
</div>
<p>å‹ç¼©å¤‡ä»½åº“</p>
<div>
<div class="cnblogs_code">
<pre>mongodump <span style="color: #808080;">-</span>h <span style="color: #800000; font-weight: bold;">10.0</span>.<span style="color: #800000; font-weight: bold;">0.152</span>:<span style="color: #800000; font-weight: bold;">27017</span> <span style="color: #808080;">-</span>uroot <span style="color: #808080;">-</span>proot <span style="color: #008080;">--</span><span style="color: #008080;">authenticationDatabase admin  -d test -o /home/mongod/backup/ --gzip</span></pre>
</div>
</div>
<p>å‹ç¼©å¤‡ä»½å•è¡¨</p>
<div>
<div class="cnblogs_code">
<pre>mongodump <span style="color: #808080;">-</span>h <span style="color: #800000; font-weight: bold;">10.0</span>.<span style="color: #800000; font-weight: bold;">0.152</span>:<span style="color: #800000; font-weight: bold;">27017</span> <span style="color: #808080;">-</span>uroot <span style="color: #808080;">-</span>proot <span style="color: #008080;">--</span><span style="color: #008080;">authenticationDatabase admin  -d test -c vast -o /home/mongod/backup/ --gzip</span></pre>
</div>
</div>
<h3>1.2.2 mongorestoreæ¢å¤å®è·µ</h3>
<p>ã€€ã€€mongorestoreä¸mongoimportå‚æ•°ç±»ä¼¼&nbsp;</p>
<table class="MsoTable15Grid2" style="width: 100%; border-width: initial; border-style: none; border-color: initial;" border="1" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td style="width: 40.64%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1.5pt; border-bottom-color: #666666; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; padding: 0cm 5.4pt;" valign="top" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 5;" align="center"><strong><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">å‚æ•°</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1.5pt; border-bottom-color: #666666; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; padding: 0cm 5.4pt;" valign="top" width="59%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 1;" align="center"><strong><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">å‚æ•°è¯´æ˜</span></strong></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" valign="top" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 68;" align="center"><strong><span lang="EN-US">-h</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" valign="top" width="59%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 64;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æŒ‡æ˜æ•°æ®åº“å®¿ä¸»æœºçš„</span><span lang="EN-US">IP</span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; padding: 0cm 5.4pt;" valign="top" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 4;" align="center"><strong><span lang="EN-US">-u</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; padding: 0cm 5.4pt;" valign="top" width="59%">
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æŒ‡æ˜æ•°æ®åº“çš„ç”¨æˆ·å</span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" valign="top" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 68;" align="center"><strong><span lang="EN-US">-p</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" valign="top" width="59%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 64;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æŒ‡æ˜æ•°æ®åº“çš„å¯†ç </span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; padding: 0cm 5.4pt;" valign="top" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 4;" align="center"><strong><span lang="EN-US">-d</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; padding: 0cm 5.4pt;" valign="top" width="59%">
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æŒ‡æ˜æ•°æ®åº“çš„åå­—</span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" valign="top" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 68;" align="center"><strong><span lang="EN-US">-c</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" valign="top" width="59%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 64;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æŒ‡æ˜</span><span lang="EN-US">collection</span><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">çš„åå­—</span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; padding: 0cm 5.4pt;" valign="top" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 4;" align="center"><strong><span lang="EN-US">-o</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; padding: 0cm 5.4pt;" valign="top" width="59%">
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æŒ‡æ˜åˆ°è¦å¯¼å‡ºçš„æ–‡ä»¶å</span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" valign="top" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 68;" align="center"><strong><span lang="EN-US">-q</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" valign="top" width="59%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 64;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æŒ‡æ˜å¯¼å‡ºæ•°æ®çš„è¿‡æ»¤æ¡ä»¶</span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; padding: 0cm 5.4pt;" valign="top" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 4;" align="center"><strong><span lang="EN-US">--authenticationDatabase</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; padding: 0cm 5.4pt;" valign="top" width="59%">
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">éªŒè¯æ•°æ®çš„åç§°</span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" valign="top" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 68;" align="center"><strong><span lang="EN-US">--gzip</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" valign="top" width="59%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 64;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">å¤‡ä»½æ—¶å‹ç¼©</span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; padding: 0cm 5.4pt;" valign="top" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 4;" align="center"><strong><span lang="EN-US">--oplog</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; padding: 0cm 5.4pt;" valign="top" width="59%">
<p class="MsoNormal" style="text-align: center;" align="center"><span lang="EN-US">use oplog for taking a point-in-time snapshot</span></p>
</td>
</tr>
<tr>
<td style="width: 40.64%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" valign="top" width="40%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 68;" align="center"><strong><span lang="EN-US">--drop</span></strong></p>
</td>
<td style="width: 59.36%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" valign="top" width="59%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 64;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æ¢å¤çš„æ—¶å€™æŠŠä¹‹å‰çš„é›†åˆ</span><span lang="EN-US">drop</span><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æ‰</span></p>
</td>
</tr>
</tbody>
</table>
<p>å…¨åº“å¤‡ä»½ä¸­æ¢å¤å•åº“ï¼ˆåŸºäºä¹‹å‰çš„å…¨åº“å¤‡ä»½ï¼‰</p>
<div>
<div class="cnblogs_code">
<pre>mongorestore <span style="color: #808080;">-</span>h <span style="color: #800000; font-weight: bold;">10.0</span>.<span style="color: #800000; font-weight: bold;">0.152</span>:<span style="color: #800000; font-weight: bold;">27017</span> <span style="color: #808080;">-</span>uroot <span style="color: #808080;">-</span>proot <span style="color: #008080;">--</span><span style="color: #008080;">authenticationDatabase admin -d test --drop  /home/mongod/backup/full/test/</span></pre>
</div>
</div>
<p>æ¢å¤teståº“</p>
<div>
<div class="cnblogs_code">
<pre>mongorestore <span style="color: #808080;">-</span>h <span style="color: #800000; font-weight: bold;">10.0</span>.<span style="color: #800000; font-weight: bold;">0.152</span>:<span style="color: #800000; font-weight: bold;">27017</span> <span style="color: #808080;">-</span>uroot <span style="color: #808080;">-</span>proot <span style="color: #008080;">--</span><span style="color: #008080;">authenticationDatabase admin -d test /home/mongod/backup/test/</span></pre>
</div>
</div>
<p>æ¢å¤teståº“ä¸‹çš„vasté›†åˆ</p>
<div>
<div class="cnblogs_code">
<pre>mongorestore <span style="color: #808080;">-</span>h <span style="color: #800000; font-weight: bold;">10.0</span>.<span style="color: #800000; font-weight: bold;">0.152</span>:<span style="color: #800000; font-weight: bold;">27017</span> <span style="color: #808080;">-</span>uroot <span style="color: #808080;">-</span>proot <span style="color: #008080;">--</span><span style="color: #008080;">authenticationDatabase admin -d test -c vast /home/mongod/backup/test/vast.bson</span></pre>
</div>
</div>
<p>--dropå‚æ•°å®è·µæ¢å¤</p>
<div>
<div class="cnblogs_code">
<pre><span style="color: #008000;">#</span><span style="color: #008000;"> æ¢å¤å•åº“</span>
mongorestore -h 10.0.0.152:27017 -uroot -proot --authenticationDatabase admin -d test --drop /home/mongod/backup/test/
<span style="color: #008000;">#</span><span style="color: #008000;"> æ¢å¤å•è¡¨</span>
mongorestore -h 10.0.0.152:27017 -uroot -proot --authenticationDatabase admin -d test -c vast --drop /home/mongod/backup/test/vast.bson</pre>
</div>
</div>
<h3>1.2.3 mongoexport/mongoimportä¸mongodump/mongorestoreçš„å¯¹æ¯”</h3>
<blockquote>
<p>&nbsp;</p>
<ol style="color: #000000;">
<li>mongoexport/mongoimportå¯¼å…¥/å¯¼å‡ºçš„æ˜¯JSONæ ¼å¼ï¼Œè€Œmongodump/mongorestoreå¯¼å…¥/å¯¼å‡ºçš„æ˜¯BSONæ ¼å¼ã€‚</li>
<li>JSONå¯è¯»æ€§å¼ºä½†ä½“ç§¯è¾ƒå¤§ï¼ŒBSONåˆ™æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä½“ç§¯å°ä½†å¯¹äººç±»å‡ ä¹æ²¡æœ‰å¯è¯»æ€§ã€‚</li>
<li>åœ¨ä¸€äº›mongodbç‰ˆæœ¬ä¹‹é—´ï¼ŒBSONæ ¼å¼å¯èƒ½ä¼šéšç‰ˆæœ¬ä¸åŒè€Œæœ‰æ‰€ä¸åŒï¼Œæ‰€ä»¥ä¸åŒç‰ˆæœ¬ä¹‹é—´ç”¨mongodump/mongorestoreå¯èƒ½ä¸ä¼šæˆåŠŸï¼Œå…·ä½“è¦çœ‹ç‰ˆæœ¬ä¹‹é—´çš„å…¼å®¹æ€§ã€‚å½“æ— æ³•ä½¿ç”¨BSONè¿›è¡Œè·¨ç‰ˆæœ¬çš„æ•°æ®è¿ç§»çš„æ—¶å€™ï¼Œä½¿ç”¨JSONæ ¼å¼å³mongoexport/mongoimportæ˜¯ä¸€ä¸ªå¯é€‰é¡¹ã€‚è·¨ç‰ˆæœ¬çš„mongodump/mongorestoreå¹¶ä¸æ¨èï¼Œå®åœ¨è¦åšè¯·å…ˆæ£€æŸ¥æ–‡æ¡£çœ‹ä¸¤ä¸ªç‰ˆæœ¬æ˜¯å¦å…¼å®¹ï¼ˆå¤§éƒ¨åˆ†æ—¶å€™æ˜¯çš„ï¼‰ã€‚</li>
<li>JSONè™½ç„¶å…·æœ‰è¾ƒå¥½çš„è·¨ç‰ˆæœ¬é€šç”¨æ€§ï¼Œä½†å…¶åªä¿ç•™äº†æ•°æ®éƒ¨åˆ†ï¼Œä¸ä¿ç•™ç´¢å¼•ï¼Œè´¦æˆ·ç­‰å…¶ä»–åŸºç¡€ä¿¡æ¯ã€‚ä½¿ç”¨æ—¶åº”è¯¥æ³¨æ„ã€‚</li>
</ol>
</blockquote>
<h2>1.3 MongoDBä¸­çš„oplog</h2>
<h3>1.3.1 ä»€ä¹ˆæ˜¯oplog</h3>
<p>ã€€ã€€MongoDB çš„Replicationæ˜¯é€šè¿‡ä¸€ä¸ªæ—¥å¿—æ¥å­˜å‚¨å†™æ“ä½œçš„ï¼Œè¿™ä¸ªæ—¥å¿—å°±å«åšoplogã€‚</p>
<p>ã€€ã€€åœ¨é»˜è®¤æƒ…å†µä¸‹,oplogåˆ†é…çš„æ˜¯5%çš„ç©ºé—²ç£ç›˜ç©ºé—´ã€‚é€šå¸¸è€Œè¨€,è¿™æ˜¯ä¸€ç§åˆç†çš„è®¾ç½®ã€‚å¯ä»¥é€šè¿‡mongod --oplogSizeæ¥æ”¹å˜oplogçš„æ—¥å¿—å¤§å°ã€‚</p>
<p><strong>ã€€ã€€oplog</strong>æ˜¯capped collectionï¼Œå› ä¸ºoplogçš„ç‰¹ç‚¹ï¼ˆä¸èƒ½å¤ªå¤šæŠŠç£ç›˜å¡«æ»¡äº†ï¼Œå›ºå®šå¤§å°ï¼‰éœ€è¦ï¼ŒMongoDBæ‰å‘æ˜äº†capped collectionï¼ˆthe oplog is actually the reason capped collections were inventedï¼‰. å®šå€¼å¤§å°çš„é›†åˆï¼ŒoplogSizeMB: 2048ï¼Œoplogæ˜¯å…·æœ‰å¹‚ç­‰æ€§ï¼Œæ‰§è¡Œè¿‡åçš„ä¸ä¼šåå¤æ‰§è¡Œã€‚</p>
<p><strong>ã€€ã€€<span style="background-color: #ffff00;">å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œoplog</span></strong><span style="background-color: #ffff00;"><strong>ä¸ºreplica set</strong><strong>æˆ–è€…master/slave</strong><strong>æ¨¡å¼ä¸“ç”¨ï¼ˆstandalone</strong><strong>æ¨¡å¼è¿è¡Œmongodb</strong><strong>å¹¶ä¸æ¨èï¼‰ã€‚</strong></span></p>
<p>oplogçš„ä½ç½®ï¼š</p>
<div>
<blockquote>
<p class="a1" style="color: #000000;">oplogåœ¨localåº“ï¼š localã€‚oplog</p>
<p class="a1" style="color: #000000;">master/slave æ¶æ„ä¸‹ï¼šlocal.oplog.$main;</p>
<p class="a1">&nbsp;</p>
<p class="a1" style="color: #000000;">replica sets æ¶æ„ä¸‹ï¼šlocal.oplog.rs</p>
</blockquote>
</div>
<p>å‚æ•°è¯´æ˜</p>
<div>
<div class="cnblogs_code">
<pre>$ mongodump --<span style="color: #000000;">help
 </span>--oplog use oplog <span style="color: #0000ff;">for</span> taking a point-<span style="color: #0000ff;">in</span>-time snapshot</pre>
</div>
<p>ã€€ã€€è¯¥å‚æ•°çš„ä¸»è¦ä½œç”¨æ˜¯åœ¨å¯¼å‡ºçš„åŒæ—¶ç”Ÿæˆä¸€ä¸ªoplog.bsonæ–‡ä»¶ï¼Œå­˜æ”¾åœ¨ä½ å¼€å§‹è¿›è¡Œdumpåˆ°dumpç»“æŸä¹‹é—´æ‰€æœ‰çš„oplogã€‚</p>
</div>
<p>ã€€ã€€oplog å®˜æ–¹è¯´æ˜<a href="javascript:if(confirm('http://clsn.io/wp-content/themes/clsn-003/inc/go.php?url=https://docs.mongodb.com/manual/core/replica-set-oplog/  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüÎŞ·¨È¡µÃ£¬»òÖøËüÈ¡»Øºó·ÅÆú£¬»òÊÇÏîÄ¿Í£Ö¹µÄÌ«¿ì¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://clsn.io/wp-content/themes/clsn-003/inc/go.php?url=https://docs.mongodb.com/manual/core/replica-set-oplog/'" tppabs="http://clsn.io/wp-content/themes/clsn-003/inc/go.php?url=https://docs.mongodb.com/manual/core/replica-set-oplog/" >https://docs.mongodb.com/manual/core/replica-set-oplog/</a></p>
<p align="center">&nbsp;<img data-original="http://clsn.io/wp-content/uploads/2018/03/1190037-20180108182310613-2083013963.png" src="blank.gif" tppabs="http://clsn.io/wp-content/themes/clsn-003/img/blank.gif" alt="MongoDBçš„å¤‡ä»½ä¸æ¢å¤" alt="" /></p>

<p>ã€€ã€€ç®€å•åœ°è¯´ï¼Œåœ¨replica setä¸­oplogæ˜¯ä¸€ä¸ªå®šå®¹é›†åˆï¼ˆcapped collectionï¼‰ï¼Œå®ƒçš„é»˜è®¤å¤§å°æ˜¯ç£ç›˜ç©ºé—´çš„5%ï¼ˆå¯ä»¥é€šè¿‡--oplogSizeMBå‚æ•°ä¿®æ”¹ï¼‰ï¼Œä½äºlocalåº“çš„db.oplog.rsï¼Œæœ‰å…´è¶£å¯ä»¥çœ‹çœ‹é‡Œé¢åˆ°åº•æœ‰äº›ä»€ä¹ˆå†…å®¹ã€‚</p>
<p>ã€€ã€€å…¶ä¸­è®°å½•çš„æ˜¯æ•´ä¸ªmongodå®ä¾‹ä¸€æ®µæ—¶é—´å†…æ•°æ®åº“çš„æ‰€æœ‰å˜æ›´ï¼ˆæ’å…¥/æ›´æ–°/åˆ é™¤ï¼‰æ“ä½œã€‚å½“ç©ºé—´ç”¨å®Œæ—¶æ–°è®°å½•è‡ªåŠ¨è¦†ç›–æœ€è€çš„è®°å½•ã€‚</p>
<p>ã€€ã€€æ‰€ä»¥ä»æ—¶é—´è½´ä¸Šçœ‹ï¼Œoplogçš„è¦†ç›–èŒƒå›´å¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š</p>
<p style="text-align: center;">&nbsp;<img data-original="http://clsn.io/wp-content/uploads/2018/03/1190037-20180108182407426-484765998.png" src="blank.gif" tppabs="http://clsn.io/wp-content/themes/clsn-003/img/blank.gif" alt="MongoDBçš„å¤‡ä»½ä¸æ¢å¤" alt="" />&nbsp;</p>

<p>ã€€ã€€å…¶è¦†ç›–èŒƒå›´è¢«ç§°ä½œoplogæ—¶é—´çª—å£ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå› ä¸ºoplogæ˜¯ä¸€ä¸ªå®šå®¹é›†åˆï¼Œæ‰€ä»¥æ—¶é—´çª—å£èƒ½è¦†ç›–çš„èŒƒå›´ä¼šå› ä¸ºä½ å•ä½æ—¶é—´å†…çš„æ›´æ–°æ¬¡æ•°ä¸åŒè€Œå˜åŒ–ã€‚æƒ³è¦æŸ¥çœ‹å½“å‰çš„oplogæ—¶é—´çª—å£é¢„è®¡å€¼.</p>
<div>
<div class="cnblogs_code">
<pre>sh1:<span style="color: #0000ff;">PRIMARY</span><span style="color: #808080;">></span><span style="color: #000000;"> rs.printReplicationInfo()
configured oplog size:   2048MB   </span><span style="color: #808080;"><</span><span style="color: #008080;">--</span><span style="color: #008080;">é›†åˆå¤§å°</span>
<span style="color: #ff00ff;">log</span> length start <span style="color: #0000ff;">to</span> <span style="color: #0000ff;">end</span>: 305451secs (<span style="color: #800000; font-weight: bold;">84</span>.85hrs)  <span style="color: #808080;"><</span><span style="color: #008080;">--</span><span style="color: #008080;">é¢„è®¡çª—å£è¦†ç›–æ—¶é—´</span>
oplog first event time:  Thu Jan <span style="color: #800000; font-weight: bold;">04</span> <span style="color: #800000; font-weight: bold;">2018</span> <span style="color: #800000; font-weight: bold;">19</span>:<span style="color: #800000; font-weight: bold;">39</span>:<span style="color: #800000; font-weight: bold;">05</span> GMT<span style="color: #808080;">+</span><span style="color: #800000; font-weight: bold;">0800</span><span style="color: #000000;"> (CST)
oplog last event time:   Mon Jan </span><span style="color: #800000; font-weight: bold;">08</span> <span style="color: #800000; font-weight: bold;">2018</span> <span style="color: #800000; font-weight: bold;">08</span>:<span style="color: #800000; font-weight: bold;">29</span>:<span style="color: #800000; font-weight: bold;">56</span> GMT<span style="color: #808080;">+</span><span style="color: #800000; font-weight: bold;">0800</span><span style="color: #000000;"> (CST)
now:                     Mon Jan </span><span style="color: #800000; font-weight: bold;">08</span> <span style="color: #800000; font-weight: bold;">2018</span> <span style="color: #800000; font-weight: bold;">16</span>:<span style="color: #800000; font-weight: bold;">33</span>:<span style="color: #800000; font-weight: bold;">25</span> GMT<span style="color: #808080;">+</span><span style="color: #800000; font-weight: bold;">0800</span> (CST)</pre>
</div>
</div>
<p>ã€€ã€€oplogæœ‰ä¸€ä¸ªéå¸¸é‡è¦çš„ç‰¹æ€§&mdash;&mdash;<span style="background-color: #ffff00;"><strong>å¹‚ç­‰æ€§ï¼ˆ</strong><strong>idempotent</strong><strong>ï¼‰</strong></span>ã€‚å³å¯¹ä¸€ä¸ªæ•°æ®é›†åˆï¼Œä½¿ç”¨oplogä¸­è®°å½•çš„æ“ä½œé‡æ”¾æ—¶ï¼Œæ— è®ºè¢«é‡æ”¾å¤šå°‘æ¬¡ï¼Œå…¶ç»“æœä¼šæ˜¯ä¸€æ ·çš„ã€‚</p>
<p>ã€€ã€€ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœoplogä¸­è®°å½•çš„æ˜¯ä¸€ä¸ªæ’å…¥æ“ä½œï¼Œå¹¶<span style="background-color: #ffff00;"><strong>ä¸ä¼šå› ä¸ºä½ é‡æ”¾äº†ä¸¤æ¬¡ï¼Œæ•°æ®åº“ä¸­å°±å¾—åˆ°ä¸¤æ¡ç›¸åŒçš„è®°å½•</strong>ã€‚</span>è¿™æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„ç‰¹æ€§.</p>
<h3>1.3.2 oplog.bsonä½œç”¨</h3>
<p>ä¸oplogç›¸å…³çš„å‚æ•°</p>
<table class="MsoTable15Grid2" style="width: 100%; border-width: initial; border-style: none; border-color: initial;" border="1" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td style="width: 29.8%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1.5pt; border-bottom-color: #666666; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; padding: 0cm 5.4pt;" valign="top" width="29%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 5;" align="center"><strong><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">å‚æ•°</span></strong></p>
</td>
<td style="width: 70.2%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1.5pt; border-bottom-color: #666666; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; padding: 0cm 5.4pt;" valign="top" width="70%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 1;" align="center"><strong><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">å‚æ•°è¯´æ˜</span></strong></p>
</td>
</tr>
<tr>
<td style="width: 29.8%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" valign="top" width="29%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 68;" align="center"><strong><span lang="EN-US">--oplogReplay</span></strong></p>
</td>
<td style="width: 70.2%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" valign="top" width="70%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 64;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">é‡æ”¾</span><span lang="EN-US">oplog.bson</span><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">ä¸­çš„æ“ä½œå†…å®¹</span></p>
</td>
</tr>
<tr>
<td style="width: 29.8%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; padding: 0cm 5.4pt;" valign="top" width="29%">
<p class="MsoNormal" style="text-align: center; mso-yfti-cnfc: 4;" align="center"><strong><span lang="EN-US">--oplogLimit</span></strong></p>
</td>
<td style="width: 70.2%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; padding: 0cm 5.4pt;" valign="top" width="70%">
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">ä¸</span><span lang="EN-US">--oplogReplay</span><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œå¯ä»¥é™åˆ¶é‡æ”¾åˆ°çš„æ—¶é—´ç‚¹</span></p>
</td>
</tr>
</tbody>
</table>
<p>ã€€ã€€é¦–å…ˆè¦æ˜ç™½çš„ä¸€ä¸ªé—®é¢˜æ˜¯æ•°æ®ä¹‹é—´äº’ç›¸æœ‰ä¾èµ–æ€§ï¼Œæ¯”å¦‚é›†åˆAä¸­å­˜æ”¾äº†è®¢å•ï¼Œé›†åˆBä¸­å­˜æ”¾äº†è®¢å•çš„æ‰€æœ‰æ˜ç»†ï¼Œé‚£ä¹ˆåªæœ‰ä¸€ä¸ªè®¢å•æœ‰å®Œæ•´çš„æ˜ç»†æ—¶æ‰æ˜¯æ­£ç¡®çš„çŠ¶æ€ã€‚</p>
<p>ã€€ã€€å‡è®¾åœ¨ä»»æ„ä¸€ä¸ªæ—¶é—´ç‚¹ï¼ŒAå’ŒBé›†åˆçš„æ•°æ®éƒ½æ˜¯å®Œæ•´å¯¹åº”å¹¶ä¸”æœ‰æ„ä¹‰çš„ï¼ˆå¯¹éå…³ç³»å‹æ•°æ®åº“è¦åšåˆ°è¿™ç‚¹å¹¶ä¸å®¹æ˜“ï¼Œä¸”å¯¹äºMongoDBæ¥è¯´è¿™æ ·çš„æ•°æ®ç»“æ„å¹¶éåˆç†ã€‚ä½†æ­¤å¤„æˆ‘ä»¬å‡è®¾è¿™ä¸ªæ¡ä»¶æˆç«‹ï¼‰ï¼Œé‚£ä¹ˆå¦‚æœAå¤„äºæ—¶é—´ç‚¹xï¼Œè€ŒBå¤„äºxä¹‹åçš„ä¸€ä¸ªæ—¶é—´ç‚¹yæ—¶ï¼Œå¯ä»¥æƒ³è±¡Aå’ŒBä¸­çš„æ•°æ®ææœ‰å¯èƒ½ä¸å¯¹åº”è€Œå¤±å»æ„ä¹‰ã€‚</p>
<p>ã€€ã€€mongodumpçš„è¿›è¡Œè¿‡ç¨‹ä¸­å¹¶ä¸ä¼šæŠŠæ•°æ®åº“é”æ­»ä»¥ä¿è¯æ•´ä¸ªåº“å†»ç»“åœ¨ä¸€ä¸ªå›ºå®šçš„æ—¶é—´ç‚¹ï¼Œè¿™åœ¨ä¸šåŠ¡ä¸Šå¸¸å¸¸æ˜¯ä¸å…è®¸çš„ã€‚æ‰€ä»¥å°±æœ‰äº†dumpçš„æœ€ç»ˆç»“æœä¸­Aé›†åˆæ˜¯10ç‚¹æ•´çš„çŠ¶æ€ï¼Œè€ŒBé›†åˆåˆ™æ˜¯10ç‚¹é›¶1åˆ†çš„çŠ¶æ€è¿™ç§æƒ…å†µã€‚</p>
<p>ã€€ã€€è¿™æ ·çš„å¤‡ä»½å³ä½¿æ¢å¤å›å»ï¼Œå¯ä»¥æƒ³è±¡å¾—åˆ°çš„ç»“æœææ€•æ„ä¹‰æœ‰é™ã€‚</p>
<p>ã€€ã€€é‚£ä¹ˆä¸Šé¢è¿™ä¸ªoplog.bsonçš„æ„ä¹‰å°±åœ¨è¿™é‡Œä½“ç°å‡ºæ¥äº†ã€‚å¦‚æœåœ¨dumpæ•°æ®çš„åŸºç¡€ä¸Šï¼Œå†é‡åšä¸€éoplogä¸­è®°å½•çš„æ‰€æœ‰æ“ä½œï¼Œè¿™æ—¶çš„æ•°æ®å°±å¯ä»¥ä»£è¡¨dumpç»“æŸæ—¶é‚£ä¸ªæ—¶é—´ç‚¹ï¼ˆpoint-in-timeï¼‰çš„æ•°æ®åº“çŠ¶æ€ã€‚</p>
<h3>1.3.3 ã€æ¨¡æ‹Ÿã€‘mongodumpä½¿ç”¨</h3>
<p>é¦–å…ˆæˆ‘ä»¬æ¨¡æ‹Ÿä¸€ä¸ªä¸æ–­æœ‰æ’å…¥æ“ä½œçš„é›†åˆfooï¼Œ</p>
<div>
<div class="cnblogs_code">
<pre><span style="color: #0000ff;">use</span><span style="color: #000000;"> clsn
</span><span style="color: #0000ff;">for</span>(<span style="color: #ff00ff;">var</span> i <span style="color: #808080;">=</span> <span style="color: #800000; font-weight: bold;">0</span>; i <span style="color: #808080;"><</span> <span style="color: #800000; font-weight: bold;">10000</span>; i<span style="color: #808080;">++</span><span style="color: #000000;">) {
    db.clsn.</span><span style="color: #0000ff;">insert</span><span style="color: #000000;">({a: i});
}</span></pre>
</div>
<p>ã€€ã€€ç„¶ååœ¨æ’å…¥è¿‡ç¨‹ä¸­æ¨¡æ‹Ÿä¸€æ¬¡mongodumpå¹¶æŒ‡å®š--oplogã€‚</p>
</div>
<div>
<div class="cnblogs_code">
<pre>mongodump <span style="color: #808080;">-</span>h <span style="color: #800000; font-weight: bold;">10.0</span>.<span style="color: #800000; font-weight: bold;">0.152</span> <span style="color: #008080;">--</span><span style="color: #008080;">port 28021  --oplog  -o /home/mongod/backup/oplog</span></pre>
</div>
<p>ã€€ã€€<span style="color: #ff0000;"><strong>æ³¨æ„ï¼š</strong></span>--oplogé€‰é¡¹åªå¯¹å…¨åº“å¯¼å‡ºæœ‰æ•ˆï¼Œæ‰€ä»¥ä¸èƒ½æŒ‡å®š-dé€‰é¡¹ã€‚</p>
</div>
<p>ã€€ã€€ã€€ã€€&nbsp; &nbsp;å› ä¸ºæ•´ä¸ªå®ä¾‹çš„å˜æ›´æ“ä½œéƒ½ä¼šé›†ä¸­åœ¨localåº“ä¸­çš„oplog.rsé›†åˆä¸­ã€‚</p>
<p>æ ¹æ®ä¸Šé¢æ‰€è¯´ï¼Œä»dumpå¼€å§‹çš„æ—¶é—´ç³»ç»Ÿå°†è®°å½•æ‰€æœ‰çš„oplogåˆ°oplog.bsonä¸­ï¼Œæ‰€ä»¥æˆ‘ä»¬å¾—åˆ°è¿™äº›æ–‡ä»¶ï¼š</p>
<div>
<div class="cnblogs_code">
<pre><span style="color: #ff0000;">[</span><span style="color: #ff0000;"><a href="email-protection.htm" tppabs="http://clsn.io/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="04696b6a636b6044496b6a636b4046">[email&#160;protected]</a> ~</span><span style="color: #ff0000;">]</span>$ ll <span style="color: #808080;">/</span>home<span style="color: #808080;">/</span>mongod<span style="color: #808080;">/</span><span style="color: #0000ff;">backup</span><span style="color: #808080;">/</span><span style="color: #000000;">oplog 
total </span><span style="color: #800000; font-weight: bold;">8</span><span style="color: #000000;">
drwxrwxr</span><span style="color: #808080;">-</span>x <span style="color: #800000; font-weight: bold;">2</span> mongod mongod   <span style="color: #800000; font-weight: bold;">4096</span> Jan  <span style="color: #800000; font-weight: bold;">8</span> <span style="color: #800000; font-weight: bold;">16</span>:<span style="color: #800000; font-weight: bold;">49</span><span style="color: #000000;"> admin
drwxrwxr</span><span style="color: #808080;">-</span>x <span style="color: #800000; font-weight: bold;">2</span> mongod mongod   <span style="color: #800000; font-weight: bold;">4096</span> Jan  <span style="color: #800000; font-weight: bold;">8</span> <span style="color: #800000; font-weight: bold;">16</span>:<span style="color: #800000; font-weight: bold;">49</span><span style="color: #000000;"> clsn
</span><span style="color: #808080;">-</span>rw<span style="color: #808080;">-</span>rw<span style="color: #808080;">-</span>r<span style="color: #008080;">--</span><span style="color: #008080;"> 1 mongod mongod  77256 Jan  8 16:49 oplog.bson</span></pre>
</div>
</div>
<p>æŸ¥çœ‹oplog.bsonä¸­ç¬¬ä¸€æ¡å’Œæœ€åä¸€æ¡å†…å®¹</p>
<div>
<div class="cnblogs_code">
<pre><span style="color: #ff0000;">[</span><span style="color: #ff0000;"><a href="email-protection.htm" tppabs="http://clsn.io/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="b0dddfded7dfd4f0fddfded7dff4f2">[email&#160;protected]</a> oplog</span><span style="color: #ff0000;">]</span>$ bsondump oplog.bson  <span style="color: #808080;">>/</span>tmp<span style="color: #808080;">/</span><span style="color: #000000;">oplog.bson.tmp
</span><span style="color: #ff0000;">[</span><span style="color: #ff0000;"><a href="email-protection.htm" tppabs="http://clsn.io/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="b9d4d6d7ded6ddf9f4d6d7ded6fdfb">[email&#160;protected]</a> oplog</span><span style="color: #ff0000;">]</span>$ head <span style="color: #808080;">-</span><span style="color: #800000; font-weight: bold;">1</span> <span style="color: #808080;">/</span>tmp<span style="color: #808080;">/</span><span style="color: #000000;">oplog.bson.tmp 
{"ts":{"$</span><span style="color: #0000ff;">timestamp</span>":{"t":<span style="color: #800000; font-weight: bold;">1515401553</span>,"i":<span style="color: #800000; font-weight: bold;">666</span>}},"t":{"$numberLong":"<span style="color: #800000; font-weight: bold;">5</span>"},"h":{"$numberLong":"<span style="color: #800000; font-weight: bold;">5737315465472464503</span>"},"v":<span style="color: #800000; font-weight: bold;">2</span>,"op":"i","ns":"clsn.clsn1","o":{"_id":{"$oid":"5a533151cc075bd0aa461327"},"a":<span style="color: #800000; font-weight: bold;">3153.0</span><span style="color: #000000;">}}
</span><span style="color: #ff0000;">[</span><span style="color: #ff0000;"><a href="email-protection.htm" tppabs="http://clsn.io/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="b5d8dadbd2dad1f5f8dadbd2daf1f7">[email&#160;protected]</a> oplog</span><span style="color: #ff0000;">]</span>$ tail <span style="color: #808080;">-</span><span style="color: #800000; font-weight: bold;">1</span> <span style="color: #808080;">/</span>tmp<span style="color: #808080;">/</span><span style="color: #000000;">oplog.bson.tmp 
{"ts":{"$</span><span style="color: #0000ff;">timestamp</span>":{"t":<span style="color: #800000; font-weight: bold;">1515401556</span>,"i":<span style="color: #800000; font-weight: bold;">34</span>}},"t":{"$numberLong":"<span style="color: #800000; font-weight: bold;">5</span>"},"h":{"$numberLong":"<span style="color: #808080;">-</span><span style="color: #800000; font-weight: bold;">7438621314956315593</span>"},"v":<span style="color: #800000; font-weight: bold;">2</span>,"op":"i","ns":"clsn.clsn1","o":{"_id":{"$oid":"5a533154cc075bd0aa4615de"},"a":<span style="color: #800000; font-weight: bold;">3848.0</span>}}</pre>
</div>
<p>ã€€ã€€æœ€ç»ˆdumpå‡ºçš„æ•°æ®æ—¢ä¸æ˜¯æœ€å¼€å§‹çš„çŠ¶æ€ï¼Œä¹Ÿä¸æ˜¯æœ€åçš„çŠ¶æ€ï¼Œè€Œæ˜¯ä¸­é—´æŸä¸ªéšæœºçŠ¶æ€ã€‚è¿™æ­£æ˜¯å› ä¸ºé›†åˆä¸æ–­å˜åŒ–é€ æˆçš„ã€‚</p>
</div>
<p>ã€€ã€€ä½¿ç”¨mongorestoreæ¥æ¢å¤</p>
<div>
<div class="cnblogs_code">
<pre><span style="color: #ff0000;">[</span><span style="color: #ff0000;"><a href="email-protection.htm" tppabs="http://clsn.io/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="305d5f5e575f54707d5f5e575f7472">[email&#160;protected]</a> oplog</span><span style="color: #ff0000;">]</span>$ mongorestore <span style="color: #808080;">-</span>h <span style="color: #800000; font-weight: bold;">10.0</span>.<span style="color: #800000; font-weight: bold;">0.152</span> <span style="color: #008080;">--</span><span style="color: #008080;">port 28021  --oplogReplay  --drop   /home/mongod/backup/oplog</span>
<span style="color: #800000; font-weight: bold;">2018</span><span style="color: #808080;">-</span><span style="color: #800000; font-weight: bold;">01</span><span style="color: #808080;">-</span>08T16:<span style="color: #800000; font-weight: bold;">59</span>:<span style="color: #800000; font-weight: bold;">18.053</span><span style="color: #808080;">+</span><span style="color: #800000; font-weight: bold;">0800</span>    building a list <span style="color: #0000ff;">of</span> dbs <span style="color: #808080;">and</span> collections <span style="color: #0000ff;">to</span> <span style="color: #0000ff;">restore</span> <span style="color: #0000ff;">from</span> <span style="color: #808080;">/</span>home<span style="color: #808080;">/</span>mongod<span style="color: #808080;">/</span><span style="color: #0000ff;">backup</span><span style="color: #808080;">/</span><span style="color: #000000;">oplog dir
</span><span style="color: #800000; font-weight: bold;">2018</span><span style="color: #808080;">-</span><span style="color: #800000; font-weight: bold;">01</span><span style="color: #808080;">-</span>08T16:<span style="color: #800000; font-weight: bold;">59</span>:<span style="color: #800000; font-weight: bold;">18.066</span><span style="color: #808080;">+</span><span style="color: #800000; font-weight: bold;">0800</span>    reading metadata <span style="color: #0000ff;">for</span> clsn.clsn <span style="color: #0000ff;">from</span> <span style="color: #808080;">/</span>home<span style="color: #808080;">/</span>mongod<span style="color: #808080;">/</span><span style="color: #0000ff;">backup</span><span style="color: #808080;">/</span>oplog<span style="color: #808080;">/</span>clsn<span style="color: #808080;">/</span><span style="color: #000000;">clsn.metadata.json
</span><span style="color: #800000; font-weight: bold;">2018</span><span style="color: #808080;">-</span><span style="color: #800000; font-weight: bold;">01</span><span style="color: #808080;">-</span>08T16:<span style="color: #800000; font-weight: bold;">59</span>:<span style="color: #800000; font-weight: bold;">18.157</span><span style="color: #808080;">+</span><span style="color: #800000; font-weight: bold;">0800</span>    restoring clsn.clsn <span style="color: #0000ff;">from</span> <span style="color: #808080;">/</span>home<span style="color: #808080;">/</span>mongod<span style="color: #808080;">/</span><span style="color: #0000ff;">backup</span><span style="color: #808080;">/</span>oplog<span style="color: #808080;">/</span>clsn<span style="color: #808080;">/</span><span style="color: #000000;">clsn.bson
</span><span style="color: #800000; font-weight: bold;">2018</span><span style="color: #808080;">-</span><span style="color: #800000; font-weight: bold;">01</span><span style="color: #808080;">-</span>08T16:<span style="color: #800000; font-weight: bold;">59</span>:<span style="color: #800000; font-weight: bold;">18.178</span><span style="color: #808080;">+</span><span style="color: #800000; font-weight: bold;">0800</span>    reading metadata <span style="color: #0000ff;">for</span> clsn.clsn1 <span style="color: #0000ff;">from</span> <span style="color: #808080;">/</span>home<span style="color: #808080;">/</span>mongod<span style="color: #808080;">/</span><span style="color: #0000ff;">backup</span><span style="color: #808080;">/</span>oplog<span style="color: #808080;">/</span>clsn<span style="color: #808080;">/</span><span style="color: #000000;">clsn1.metadata.json
</span><span style="color: #800000; font-weight: bold;">2018</span><span style="color: #808080;">-</span><span style="color: #800000; font-weight: bold;">01</span><span style="color: #808080;">-</span>08T16:<span style="color: #800000; font-weight: bold;">59</span>:<span style="color: #800000; font-weight: bold;">18.216</span><span style="color: #808080;">+</span><span style="color: #800000; font-weight: bold;">0800</span>    restoring clsn.clsn1 <span style="color: #0000ff;">from</span> <span style="color: #808080;">/</span>home<span style="color: #808080;">/</span>mongod<span style="color: #808080;">/</span><span style="color: #0000ff;">backup</span><span style="color: #808080;">/</span>oplog<span style="color: #808080;">/</span>clsn<span style="color: #808080;">/</span><span style="color: #000000;">clsn1.bson
</span><span style="color: #800000; font-weight: bold;">2018</span><span style="color: #808080;">-</span><span style="color: #800000; font-weight: bold;">01</span><span style="color: #808080;">-</span>08T16:<span style="color: #800000; font-weight: bold;">59</span>:<span style="color: #800000; font-weight: bold;">18.669</span><span style="color: #808080;">+</span><span style="color: #800000; font-weight: bold;">0800</span>    restoring indexes <span style="color: #0000ff;">for</span> collection clsn.clsn1 <span style="color: #0000ff;">from</span><span style="color: #000000;"> metadata
</span><span style="color: #ffcc00;"><span style="font-weight: bold;">2018</span>-<span style="font-weight: bold;">01</span>-08T16:<span style="font-weight: bold;">59</span>:<span style="font-weight: bold;">18.679</span>+<span style="font-weight: bold;">0800</span>    finished restoring clsn.clsn1 (<span style="font-weight: bold;">3165</span> documents)
<span style="font-weight: bold;">2018</span>-<span style="font-weight: bold;">01</span>-08T16:<span style="font-weight: bold;">59</span>:<span style="font-weight: bold;">19.850</span>+<span style="font-weight: bold;">0800</span>    restoring indexes for collection clsn.clsn from metadata
<span style="font-weight: bold;">2018</span>-<span style="font-weight: bold;">01</span>-08T16:<span style="font-weight: bold;">59</span>:<span style="font-weight: bold;">19.851</span>+<span style="font-weight: bold;">0800</span>    finished restoring clsn.clsn (<span style="font-weight: bold;">10000</span> documents)
<span style="font-weight: bold;">2018</span>-<span style="font-weight: bold;">01</span>-08T16:<span style="font-weight: bold;">59</span>:<span style="font-weight: bold;">19.851</span>+<span style="font-weight: bold;">0800</span>    replaying oplog
</span><span style="color: #800000; font-weight: bold;">2018</span><span style="color: #808080;">-</span><span style="color: #800000; font-weight: bold;">01</span><span style="color: #808080;">-</span>08T16:<span style="color: #800000; font-weight: bold;">59</span>:<span style="color: #800000; font-weight: bold;">19.919</span><span style="color: #808080;">+</span><span style="color: #800000; font-weight: bold;">0800</span>    done</pre>
</div>
</div>
<p>ã€€ã€€æ³¨æ„é»„å­—ä½“ï¼Œç¬¬ä¸€å¥è¡¨ç¤ºclsn.clsn1é›†åˆä¸­æ¢å¤äº†3165ä¸ªæ–‡æ¡£ï¼›ç¬¬äºŒå¥è¡¨ç¤ºé‡æ”¾äº†oplogä¸­çš„æ‰€æœ‰æ“ä½œã€‚æ‰€ä»¥ç†è®ºä¸Šclsn1åº”è¯¥æœ‰16857ä¸ªæ–‡æ¡£ï¼ˆ3165ä¸ªæ¥è‡ªclsn.bsonï¼Œå‰©ä¸‹çš„æ¥è‡ªoplog.bsonï¼‰ã€‚éªŒè¯ä¸€ä¸‹ï¼š</p>
<div>
<div class="cnblogs_code">
<pre>sh1:<span style="color: #0000ff;">PRIMARY</span><span style="color: #808080;">></span> db.clsn1.<span style="color: #ff00ff;">count</span><span style="color: #000000;">()
</span><span style="color: #800000; font-weight: bold;">3849</span></pre>
</div>
<p>ã€€ã€€è¿™å°±æ˜¯å¸¦oplogçš„mongodumpçš„çœŸæ­£ä½œç”¨ã€‚</p>
</div>
<h3>1.3.4 ä»åˆ«å¤„è€Œæ¥çš„oplog</h3>
<p>oplogæœ‰ä¸¤ç§æ¥æºï¼š</p>
<div>
<blockquote>
<p class="a" style="color: #000000;">1ã€mongodumpæ—¶åŠ ä¸Š--oplogé€‰é¡¹ï¼Œè‡ªåŠ¨ç”Ÿæˆçš„oplogï¼Œè¿™ç§æ–¹å¼çš„oplogç›´æ¥ --oplogReplay å°±å¯ä»¥æ¢å¤</p>
<p class="a">&nbsp;</p>
<p class="a" style="color: #000000;">2ã€ä»åˆ«å¤„è€Œæ¥ï¼Œé™¤äº†--oplogä¹‹å¤–ï¼Œäººä¸ºè·å–çš„oplog</p>
</blockquote>
</div>
<p>ä¾‹å¦‚ï¼š</p>
<div>
<div class="cnblogs_code">
<pre>mongodump  <span style="color: #008080;">--</span><span style="color: #008080;">port 28021 -d local -c oplog.rs</span></pre>
</div>
<p>ã€€ã€€æ—¢ç„¶dumpå‡ºçš„æ•°æ®é…åˆoplogå°±å¯ä»¥æŠŠæ•°æ®åº“æ¢å¤åˆ°æŸä¸ªçŠ¶æ€ï¼Œé‚£æ˜¯ä¸æ˜¯æ‹¥æœ‰ä¸€ä»½ä»æŸä¸ªæ—¶é—´ç‚¹å¼€å§‹å¤‡ä»½çš„dumpæ•°æ®ï¼Œå†åŠ ä¸Šä»dumpå¼€å§‹ä¹‹åçš„oplogï¼Œå¦‚æœoplogè¶³å¤Ÿé•¿ï¼Œæ˜¯ä¸æ˜¯å°±å¯ä»¥æŠŠæ•°æ®åº“æ¢å¤åˆ°å…¶åçš„ä»»æ„çŠ¶æ€äº†ï¼Ÿ<strong>æ˜¯çš„ï¼</strong></p>
</div>
<p>ã€€ã€€äº‹å®ä¸Šreplica setæ­£æ˜¯ä¾èµ–oplogçš„é‡æ”¾æœºåˆ¶åœ¨å·¥ä½œã€‚å½“secondaryç¬¬ä¸€æ¬¡åŠ å…¥replica setæ—¶åšçš„initial syncå°±ç›¸å½“äºæ˜¯åœ¨åšmongodumpï¼Œæ­¤ååªéœ€è¦ä¸æ–­åœ°åŒæ­¥å’Œé‡æ”¾oplog.rsä¸­çš„æ•°æ®ï¼Œå°±è¾¾åˆ°äº†secondaryä¸primaryåŒæ­¥çš„ç›®çš„ã€‚</p>
<p>ã€€ã€€æ—¢ç„¶oplogä¸€ç›´éƒ½åœ¨oplog.rsä¸­å­˜åœ¨ï¼Œæˆ‘ä»¬ä¸ºä»€ä¹ˆè¿˜éœ€è¦åœ¨mongodumpæ—¶æŒ‡å®š--oplogå‘¢ï¼Ÿéœ€è¦çš„æ—¶å€™ä»oplog.rsä¸­æ‹¿ä¸å°±å®Œäº†å—ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œä½ ç¡®å®å¯ä»¥åªdumpæ•°æ®ï¼Œä¸éœ€è¦oplogã€‚</p>
<p>åœ¨éœ€è¦çš„æ—¶å€™å¯ä»¥å†ä»oplog.rsä¸­å–ã€‚ä½†å‰ææ˜¯oplogæ—¶é—´çª—å£å¿…é¡»èƒ½å¤Ÿè¦†ç›–dumpçš„å¼€å§‹æ—¶é—´ã€‚</p>
<p><span style="background-color: #ffff00;"><strong>åŠæ—¶ç‚¹æ¢å¤åœºæ™¯æ¨¡æ‹Ÿ</strong></span></p>
<p>æ¨¡æ‹Ÿç”Ÿäº§ç¯å¢ƒ</p>
<div>
<div class="cnblogs_code">
<pre><span style="color: #0000ff;">for</span>(i<span style="color: #808080;">=</span><span style="color: #800000; font-weight: bold;">0</span>;i<span style="color: #808080;"><</span><span style="color: #800000; font-weight: bold;">300000</span>;i<span style="color: #808080;">++</span>){ db.oplog.<span style="color: #0000ff;">insert</span>({"id":i,"name":"shenzheng","age":<span style="color: #800000; font-weight: bold;">70</span>,"date":new Date()}); }</pre>
</div>
</div>
<p>&nbsp;&nbsp; æ’å…¥æ•°æ®çš„åŒæ—¶å¤‡ä»½</p>
<div>
<div class="cnblogs_code">
<pre>mongodump <span style="color: #808080;">-</span>h <span style="color: #800000; font-weight: bold;">10.0</span>.<span style="color: #800000; font-weight: bold;">0.152</span> <span style="color: #008080;">--</span><span style="color: #008080;">port 28021  --oplog  -o /home/mongod/backup/config</span></pre>
</div>
</div>
<div>
<p class="a">&nbsp;&nbsp;&nbsp; å¤‡ä»½å®Œæˆåè¿›è¡Œæ¬¡é”™è¯¯çš„æ“ä½œ</p>
<div class="cnblogs_code">
<pre>    db.oplog.remove({});</pre>
</div>
</div>
<p>å¤‡ä»½oplog.rsæ–‡ä»¶</p>
<div>
<div class="cnblogs_code">
<pre>mongodump <span style="color: #808080;">-</span>h <span style="color: #800000; font-weight: bold;">10.0</span>.<span style="color: #800000; font-weight: bold;">0.152</span> <span style="color: #008080;">--</span><span style="color: #008080;">port 28021 -d local -c oplog.rs -o  /home/mongod/backup/config/oplog</span></pre>
</div>
</div>
<p>&nbsp;&nbsp; æ¢å¤ä¹‹å‰å¤‡ä»½çš„æ•°æ®</p>
<div>
<div class="cnblogs_code">
<pre>mongorestore <span style="color: #808080;">-</span>h <span style="color: #800000; font-weight: bold;">10.0</span>.<span style="color: #800000; font-weight: bold;">0.152</span> <span style="color: #008080;">--</span><span style="color: #008080;">port 28021--oplogReplay /home/mongod/backup/config</span></pre>
</div>
</div>
<p>&nbsp;&nbsp; æˆªå–oplogï¼Œæ‰¾åˆ°å‘ç”Ÿè¯¯åˆ é™¤çš„æ—¶é—´ç‚¹</p>
<div>
<div class="cnblogs_code">
<pre>bsondump oplog.rs.bson <span style="color: #808080;">|</span>egrep "\"op\":\"d\"\,\"ns\":\"test\.oplog\"" <span style="color: #808080;">|</span>head <span style="color: #808080;">-</span><span style="color: #800000; font-weight: bold;">1</span><span style="color: #000000;"> 
"t":</span><span style="color: #800000; font-weight: bold;">1515379110</span>,"i":<span style="color: #800000; font-weight: bold;">1</span></pre>
</div>
</div>
<p>&nbsp;&nbsp; å¤åˆ¶oplogåˆ°å¤‡ä»½ç›®å½•</p>
<div>
<div class="cnblogs_code">
<pre>cp  <span style="color: #808080;">/</span>home<span style="color: #808080;">/</span>mongod<span style="color: #808080;">/</span><span style="color: #0000ff;">backup</span><span style="color: #808080;">/</span>config<span style="color: #808080;">/</span>oplog<span style="color: #808080;">/</span>oplog.rs.bson   <span style="color: #808080;">/</span>home<span style="color: #808080;">/</span>mongod<span style="color: #808080;">/</span><span style="color: #0000ff;">backup</span><span style="color: #808080;">/</span>config<span style="color: #808080;">/</span>oplog.bson</pre>
</div>
</div>
<p>&nbsp;&nbsp; è¿›è¡Œæ¢å¤ï¼Œæ·»åŠ ä¹‹å‰æ‰¾åˆ°çš„è¯¯åˆ é™¤çš„ç‚¹ï¼ˆlimtï¼‰</p>
<div>
<div class="cnblogs_code">
<pre>mongorestore <span style="color: #808080;">-</span>h <span style="color: #800000; font-weight: bold;">10.0</span>.<span style="color: #800000; font-weight: bold;">0.152</span> <span style="color: #008080;">--</span><span style="color: #008080;">port 28021 --oplogReplay --oplogLimit "1515379110:1"  /home/mongod/backup/config</span></pre>
</div>
<p>ã€€ã€€<span style="color: #ff0000; background-color: #ffff00;"><strong>&nbsp; &nbsp;</strong><strong>è‡³æ­¤ä¸€æ¬¡æ¢å¤å°±å®Œæˆäº†</strong></span></p>
</div>
<h3>1.3.5 mongodbçš„å¤‡ä»½å‡†åˆ™</h3>
<p>åªé’ˆå¯¹replicaæˆ–master/slaveï¼Œæ»¡è¶³è¿™äº›å‡†åˆ™MongoDBå°±å¯ä»¥è¿›è¡Œpoint-in-timeæ¢å¤æ“ä½œï¼š</p>
<div>
<blockquote>
<p>&nbsp;</p>
<ol style="color: #000000;">
<li>ä»»æ„ä¸¤æ¬¡æ•°æ®å¤‡ä»½çš„æ—¶é—´é—´éš”ï¼ˆç¬¬ä¸€æ¬¡å¤‡ä»½å¼€å§‹åˆ°ç¬¬äºŒæ¬¡å¤‡ä»½ç»“æŸï¼‰ä¸èƒ½è¶…è¿‡oplogæ—¶é—´çª—å£è¦†ç›–èŒƒå›´ã€‚</li>
<li>åœ¨ä¸Šæ¬¡æ•°æ®å¤‡ä»½çš„åŸºç¡€ä¸Šï¼Œåœ¨oplogæ—¶é—´çª—å£æ²¡æœ‰æ»‘å‡ºä¸Šæ¬¡å¤‡ä»½ç»“æŸçš„æ—¶é—´ç‚¹å‰è¿›è¡Œå®Œæ•´çš„oplogå¤‡ä»½ã€‚è¯·å……åˆ†è€ƒè™‘oplogå¤‡ä»½éœ€è¦çš„æ—¶é—´ï¼Œæƒè¡¡æœåŠ¡å™¨ç©ºé—´æƒ…å†µç¡®å®šoplogå¤‡ä»½é—´éš”ã€‚</li>
</ol>
</blockquote>
</div>
<p>å®é™…åº”ç”¨ä¸­çš„æ³¨æ„äº‹é¡¹ï¼š</p>
<blockquote>
<p>&nbsp;</p>
<ol style="color: #000000;">
<li>è€ƒè™‘åˆ°oplogæ—¶é—´çª—å£æ˜¯ä¸ªå˜åŒ–å€¼ï¼Œè¯·å…³æ³¨oplogæ—¶é—´çª—å£çš„å…·ä½“æ—¶é—´ã€‚</li>
<li>åœ¨é è¿‘oplogæ—¶é—´çª—å£æ»‘åŠ¨å‡ºæœ‰æ•ˆæ—¶é—´ä¹‹å‰å¿…é¡»è¦æœ‰è¶³å¤Ÿçš„æ—¶é—´dumpå‡ºéœ€è¦çš„oplog.rsï¼Œè¯·é¢„ç•™è¶³å¤Ÿçš„æ—¶é—´ï¼Œä¸è¦é¡¶æ»¡æ—¶é—´çª—å£å†å¤‡ä»½ã€‚</li>
<li>å½“ç¾éš¾å‘ç”Ÿæ—¶ï¼Œç¬¬ä¸€ä»¶äº‹æƒ…å°±æ˜¯è¦åœæ­¢æ•°æ®åº“çš„å†™å…¥æ“ä½œï¼Œä»¥å¾€oplogæ»‘å‡ºæ—¶é—´çª—å£ã€‚ç‰¹åˆ«æ˜¯åƒä¸Šè¿°è¿™æ ·çš„remove({})æ“ä½œï¼Œç¬é—´å°±ä¼šæ’å…¥å¤§é‡dè®°å½•ä»è€Œå¯¼è‡´oplogè¿…é€Ÿæ»‘å‡ºæ—¶é—´çª—å£ã€‚</li>
</ol>
</blockquote>
<p>åˆ†ç‰‡é›†ç¾¤çš„å¤‡ä»½æ³¨æ„äº‹é¡¹</p>
<div>
<blockquote>
<p class="a" style="color: #000000;">1ã€å¤‡ä»½ä»€ä¹ˆï¼Ÿ</p>
<p class="a" style="color: #000000;">ã€€ã€€ï¼ˆ1ï¼‰configserver</p>
<p class="a" style="color: #000000;">ã€€ã€€ï¼ˆ2ï¼‰æ¯ä¸€ä¸ªshardèŠ‚ç‚¹</p>
<p class="a" style="color: #000000;">2ã€å¤‡ä»½éœ€è¦æ³¨æ„ä»€ä¹ˆï¼Ÿ</p>
<p class="a" style="color: #000000;">ã€€ã€€ï¼ˆ1ï¼‰å…ƒæ•°æ®å’ŒçœŸå®æ•°æ®è¦æœ‰å¯¹ç­‰æ€§ï¼ˆblancerè¿ç§»çš„é—®é¢˜ï¼Œä¼šé€ æˆconfigå’Œshardå¤‡ä»½ä¸ä¸€è‡´ï¼‰</p>
<p class="a">&nbsp;</p>
<p class="a" style="color: #000000;">ã€€ã€€ï¼ˆ2ï¼‰ä¸åŒéƒ¨åˆ†å¤‡ä»½ç»“æŸæ—¶é—´ç‚¹ä¸ä¸€æ ·ï¼Œæ¢å¤å‡ºæ¥çš„æ•°æ®å°±æ˜¯æœ‰é—®é¢˜çš„ã€‚</p>
</blockquote>
</div>
<h2>1.4 MongoDBç›‘æ§</h2>
<p>ä¸ºä»€ä¹ˆè¦ç›‘æ§ï¼Ÿ</p>
<div>
<blockquote>
<p class="a"><span style="color: #000000;">ç›‘æ§åŠæ—¶è·å¾—åº”ç”¨çš„è¿è¡ŒçŠ¶æ€ä¿¡æ¯ï¼Œåœ¨é—®é¢˜å‡ºç°æ—¶åŠæ—¶å‘ç°ã€‚</span></p>
</blockquote>
</div>
<p>ç›‘æ§ä»€ä¹ˆï¼Ÿ</p>
<div>
<blockquote>
<p class="a"><span style="color: #000000;">CPUã€å†…å­˜ã€ç£ç›˜I/Oã€åº”ç”¨ç¨‹åºï¼ˆMongoDBï¼‰ã€è¿›ç¨‹ç›‘æ§ï¼ˆps -auxï¼‰ã€é”™è¯¯æ—¥å¿—ç›‘æ§</span></p>
</blockquote>
</div>
<h3>1.4.1 MongoDBé›†ç¾¤ç›‘æ§æ–¹å¼</h3>
<div>
<div class="cnblogs_code">
<pre>db.serverStatus()</pre>
</div>
<p>ã€€ã€€æŸ¥çœ‹å®ä¾‹è¿è¡ŒçŠ¶æ€ï¼ˆå†…å­˜ä½¿ç”¨ã€é”ã€ç”¨æˆ·è¿æ¥ç­‰ä¿¡æ¯ï¼‰</p>
</div>
<p>ã€€ã€€é€šè¿‡æ¯”å¯¹å‰åå¿«ç…§è¿›è¡Œæ€§èƒ½åˆ†æ</p>
<div class="cnblogs_code">
<pre><span style="color: #800000;">"</span><span style="color: #800000;">connections</span><span style="color: #800000;">"</span>     <span style="color: #008000;"># </span><span style="color: #008000;">å½“å‰è¿æ¥åˆ°æœ¬æœºå¤„äºæ´»åŠ¨çŠ¶æ€çš„è¿æ¥æ•°</span>
<span style="color: #800000;">"</span><span style="color: #800000;">activeClients</span><span style="color: #800000;">"</span>   <span style="color: #008000;">#</span><span style="color: #008000;"> è¿æ¥åˆ°å½“å‰å®ä¾‹å¤„äºæ´»åŠ¨çŠ¶æ€çš„å®¢æˆ·ç«¯æ•°é‡</span>
<span style="color: #800000;">"</span><span style="color: #800000;">locks</span><span style="color: #800000;">"</span>           <span style="color: #008000;">#</span><span style="color: #008000;"> é”ç›¸å…³å‚æ•°</span>
<span style="color: #800000;">"</span><span style="color: #800000;">opcounters</span><span style="color: #800000;">"</span>      <span style="color: #008000;"># </span><span style="color: #008000;">å¯åŠ¨ä¹‹åçš„å‚æ•°</span>
<span style="color: #800000;">"</span><span style="color: #800000;">opcountersRepl</span><span style="color: #800000;">"</span>  <span style="color: #008000;"># </span><span style="color: #008000;">å¤åˆ¶æƒ³å…³</span>
<span style="color: #800000;">"</span><span style="color: #800000;">storageEngine</span><span style="color: #800000;">"  </span> <span style="color: #008000;"># </span><span style="color: #008000;">æŸ¥çœ‹æ•°æ®åº“çš„å­˜å‚¨å¼•æ“</span>
<span style="color: #800000;">"</span><span style="color: #800000;">mem</span><span style="color: #800000;">"</span>             <span style="color: #008000;"># </span><span style="color: #008000;">å†…å­˜ç›¸å…³</span></pre>
</div>
<div>
<p class="a1">çŠ¶æ€:</p>
<div class="cnblogs_code">
<pre>db.stats()</pre>
</div>
</div>
<p>æ˜¾ç¤ºä¿¡æ¯è¯´æ˜ï¼š</p>
<div class="cnblogs_code">
<pre>  <span style="color: #800000;">"</span><span style="color: #800000;">db</span><span style="color: #800000;">"</span> : <span style="color: #800000;">"</span><span style="color: #800000;">test</span><span style="color: #800000;">"</span> ,è¡¨ç¤ºå½“å‰æ˜¯é’ˆå¯¹<span style="color: #800000;">"</span><span style="color: #800000;">test</span><span style="color: #800000;">"</span><span style="color: #000000;">è¿™ä¸ªæ•°æ®åº“çš„æè¿°ã€‚æƒ³è¦æŸ¥çœ‹å…¶ä»–æ•°æ®åº“ï¼Œå¯ä»¥å…ˆè¿è¡Œ$ use databasename(e.g  $use admiin).
ã€€</span><span style="color: #800000;">"</span><span style="color: #800000;">collections</span><span style="color: #800000;">"</span> : 3<span style="color: #000000;">,è¡¨ç¤ºå½“å‰æ•°æ®åº“æœ‰å¤šå°‘ä¸ªcollections.å¯ä»¥é€šè¿‡è¿è¡Œshow collectionsæŸ¥çœ‹å½“å‰æ•°æ®åº“å…·ä½“æœ‰å“ªäº›collection.
ã€€</span><span style="color: #800000;">"</span><span style="color: #800000;">objects</span><span style="color: #800000;">"</span> : 13<span style="color: #000000;">ï¼Œè¡¨ç¤ºå½“å‰æ•°æ®åº“æ‰€æœ‰collectionæ€»å…±æœ‰å¤šå°‘è¡Œæ•°æ®ã€‚æ˜¾ç¤ºçš„æ•°æ®æ˜¯ä¸€ä¸ªä¼°è®¡å€¼ï¼Œå¹¶ä¸æ˜¯éå¸¸ç²¾ç¡®ã€‚
ã€€</span><span style="color: #800000;">"</span><span style="color: #800000;">avgObjSize</span><span style="color: #800000;">"</span> : 36<span style="color: #000000;">,è¡¨ç¤ºæ¯è¡Œæ•°æ®æ˜¯å¤§å°ï¼Œä¹Ÿæ˜¯ä¼°è®¡å€¼ï¼Œå•ä½æ˜¯bytes
ã€€</span><span style="color: #800000;">"</span><span style="color: #800000;">dataSize</span><span style="color: #800000;">"</span> : 468<span style="color: #000000;">,è¡¨ç¤ºå½“å‰æ•°æ®åº“æ‰€æœ‰æ•°æ®çš„æ€»å¤§å°ï¼Œä¸æ˜¯æŒ‡å æœ‰ç£ç›˜å¤§å°ã€‚å•ä½æ˜¯bytes
ã€€</span><span style="color: #800000;">"</span><span style="color: #800000;">storageSize</span><span style="color: #800000;">"</span> : 13312<span style="color: #000000;">,è¡¨ç¤ºå½“å‰æ•°æ®åº“å æœ‰ç£ç›˜å¤§å°ï¼Œå•ä½æ˜¯bytes,å› ä¸ºmongodbæœ‰é¢„åˆ†é…ç©ºé—´æœºåˆ¶ï¼Œä¸ºäº†é˜²æ­¢å½“æœ‰å¤§é‡æ•°æ®æ’å…¥æ—¶å¯¹ç£ç›˜çš„å‹åŠ›,å› æ­¤ä¼šäº‹å…ˆå¤šåˆ†é…ç£ç›˜ç©ºé—´ã€‚
ã€€</span><span style="color: #800000;">"</span><span style="color: #800000;">numExtents</span><span style="color: #800000;">"</span> : 3<span style="color: #000000;">,ä¼¼ä¹æ²¡æœ‰ä»€ä¹ˆçœŸå®æ„ä¹‰ã€‚æˆ‘å¼„æ˜ç™½ä¹‹åå†è¯¦ç»†è¡¥å……è¯´æ˜ã€‚
ã€€</span><span style="color: #800000;">"</span><span style="color: #800000;">indexes</span><span style="color: #800000;">"</span> : 1<span style="color: #000000;"> ,è¡¨ç¤ºsystem.indexesè¡¨æ•°æ®è¡Œæ•°ã€‚
ã€€</span><span style="color: #800000;">"</span><span style="color: #800000;">indexSize</span><span style="color: #800000;">"</span> : 8192<span style="color: #000000;">,è¡¨ç¤ºç´¢å¼•å æœ‰ç£ç›˜å¤§å°ã€‚å•ä½æ˜¯bytes
   </span><span style="color: #800000;">"</span><span style="color: #800000;">fileSize</span><span style="color: #800000;">"</span> : 201326592ï¼Œè¡¨ç¤ºå½“å‰æ•°æ®åº“é¢„åˆ†é…çš„æ–‡ä»¶å¤§å°ï¼Œä¾‹å¦‚test.0,test.1ï¼Œä¸åŒ…æ‹¬test.nsã€‚</pre>
</div>
<h3>1.4.2 mongostat</h3>
<p>ã€€ã€€å®æ—¶æ•°æ®åº“çŠ¶æ€ï¼Œè¯»å†™ã€åŠ é”ã€ç´¢å¼•å‘½ä¸­ã€ç¼ºé¡µä¸­æ–­ã€è¯»å†™ç­‰å¾…é˜Ÿåˆ—ç­‰æƒ…å†µã€‚</p>
<p>ã€€ã€€æ¯ç§’åˆ·æ–°ä¸€æ¬¡çŠ¶æ€å€¼ï¼Œå¹¶èƒ½æä¾›è‰¯å¥½çš„å¯è¯»æ€§ï¼Œé€šè¿‡è¿™äº›å‚æ•°å¯ä»¥è§‚å¯Ÿåˆ°MongoDBç³»ç»Ÿæ•´ä½“æ€§èƒ½æƒ…å†µã€‚</p>
<div>
<div class="cnblogs_code">
<pre>[<a href="email-protection.htm" tppabs="http://clsn.io/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="630e0c0d040c07232e0c0d040c2721">[email&#160;protected]</a> oplog]$ mongostat -h 10.0.0.152 --port 28017<span style="color: #000000;"> 
insert query update delete getmore command flushes mapped  vsize   res faults qr</span>|qw ar|<span style="color: #000000;">aw netIn netOut conn set repl                      time
    </span>*0    *0     *0     *0       0     1|0       0        303.0M 13.0M      0   0|0   0|0  143b     8k    1      RTR 2018-01-08T17:28:42+08:00</pre>
</div>
</div>
<p>å‚æ•°è¯´æ˜ï¼š&nbsp;</p>
<table class="MsoTable15Grid2" style="width: 100%; border-width: initial; border-style: none; border-color: initial;" border="1" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td style="width: 14.88%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1.5pt; border-bottom-color: #666666; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; padding: 0cm 5.4pt;" width="14%">
<p class="MsoNormal" style="text-align: justify; text-justify: inter-ideograph; mso-yfti-cnfc: 5;"><strong><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">å‚æ•°</span></strong></p>
</td>
<td style="width: 85.12%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1.5pt; border-bottom-color: #666666; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial; padding: 0cm 5.4pt;" width="85%">
<p class="MsoNormal" style="text-align: justify; text-justify: inter-ideograph; mso-yfti-cnfc: 1;"><strong><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">å‚æ•°è¯´æ˜</span></strong></p>
</td>
</tr>
<tr>
<td style="width: 14.88%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" width="14%">
<p class="MsoNormal" style="text-align: justify; text-justify: inter-ideograph; mso-yfti-cnfc: 68;"><strong><span lang="EN-US">insert</span></strong></p>
</td>
<td style="width: 85.12%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" width="85%">
<p class="MsoNormal" style="text-align: justify; text-justify: inter-ideograph; mso-yfti-cnfc: 64;"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æ¯ç§’æ’å…¥é‡</span></p>
</td>
</tr>
<tr>
<td style="width: 14.88%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; padding: 0cm 5.4pt;" width="14%">
<p class="MsoNormal" style="text-align: justify; text-justify: inter-ideograph; mso-yfti-cnfc: 4;"><strong><span lang="EN-US">query</span></strong></p>
</td>
<td style="width: 85.12%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; padding: 0cm 5.4pt;" width="85%">
<p class="MsoNormal" style="text-align: justify; text-justify: inter-ideograph;"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æ¯ç§’æŸ¥è¯¢é‡</span></p>
</td>
</tr>
<tr>
<td style="width: 14.88%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" width="14%">
<p class="MsoNormal" style="text-align: justify; text-justify: inter-ideograph; mso-yfti-cnfc: 68;"><strong><span lang="EN-US">update</span></strong></p>
</td>
<td style="width: 85.12%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" width="85%">
<p class="MsoNormal" style="text-align: justify; text-justify: inter-ideograph; mso-yfti-cnfc: 64;"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æ¯ç§’æ›´æ–°é‡</span></p>
</td>
</tr>
<tr>
<td style="width: 14.88%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; padding: 0cm 5.4pt;" width="14%">
<p class="MsoNormal" style="text-align: justify; text-justify: inter-ideograph; mso-yfti-cnfc: 4;"><strong><span lang="EN-US">delete</span></strong></p>
</td>
<td style="width: 85.12%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; padding: 0cm 5.4pt;" width="85%">
<p class="MsoNormal" style="text-align: justify; text-justify: inter-ideograph;"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æ¯ç§’åˆ é™¤é‡</span></p>
</td>
</tr>
<tr>
<td style="width: 14.88%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" width="14%">
<p class="MsoNormal" style="text-align: justify; text-justify: inter-ideograph; mso-yfti-cnfc: 68;"><strong><span lang="EN-US">conn</span></strong></p>
</td>
<td style="width: 85.12%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" width="85%">
<p class="MsoNormal" style="text-align: justify; text-justify: inter-ideograph; mso-yfti-cnfc: 64;"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">å½“å‰è¿æ¥æ•°</span></p>
</td>
</tr>
<tr>
<td style="width: 14.88%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; padding: 0cm 5.4pt;" width="14%">
<p class="MsoNormal" style="text-align: justify; text-justify: inter-ideograph; mso-yfti-cnfc: 4;"><strong><span lang="EN-US">qr|qw </span></strong></p>
</td>
<td style="width: 85.12%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; padding: 0cm 5.4pt;" width="85%">
<p class="MsoNormal" style="text-align: justify; text-justify: inter-ideograph;"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">å®¢æˆ·ç«¯æŸ¥è¯¢æ’é˜Ÿé•¿åº¦ï¼ˆè¯»</span><span lang="EN-US">|</span><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">å†™ï¼‰æœ€å¥½ä¸º</span><span lang="EN-US">0</span><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">ï¼Œå¦‚æœæœ‰å †ç§¯ï¼Œæ•°æ®åº“å¤„ç†æ…¢ã€‚</span></p>
</td>
</tr>
<tr>
<td style="width: 14.88%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" width="14%">
<p class="MsoNormal" style="text-align: justify; text-justify: inter-ideograph; mso-yfti-cnfc: 68;"><strong><span lang="EN-US">ar|aw</span></strong></p>
</td>
<td style="width: 85.12%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; background: #cccccc; padding: 0cm 5.4pt;" width="85%">
<p class="MsoNormal" style="text-align: justify; text-justify: inter-ideograph; mso-yfti-cnfc: 64;"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æ´»è·ƒå®¢æˆ·ç«¯æ•°é‡ï¼ˆè¯»</span><span lang="EN-US">|</span><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">å†™ï¼‰</span></p>
</td>
</tr>
<tr>
<td style="width: 14.88%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; border-right-width: 1pt; border-right-color: #666666; padding: 0cm 5.4pt;" width="14%">
<p class="MsoNormal" style="text-align: justify; text-justify: inter-ideograph; mso-yfti-cnfc: 4;"><strong><span lang="EN-US">time</span></strong></p>
</td>
<td style="width: 85.12%; border-top: none; border-right: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: #666666; padding: 0cm 5.4pt;" width="85%">
<p class="MsoNormal" style="text-align: justify; text-justify: inter-ideograph;"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">å½“å‰æ—¶é—´</span></p>
</td>
</tr>
</tbody>
</table>
<p><span style="background-color: #ffff00;"><strong>mongotop</strong><strong>å‘½ä»¤è¯´æ˜ï¼š</strong></span></p>
<div>
<div class="cnblogs_code">
<pre>[<a href="email-protection.htm" tppabs="http://clsn.io/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="4c2123222b23280c0123222b23080e">[email&#160;protected]</a> oplog]$ mongotop  -h 127.0.0.1:27017
2018-01-08T17:32:56.623+0800    connected to: 127.0.0.1:27017<span style="color: #000000;">

                                               ns    total    read    write    </span>2018-01-08T17:32:57+08:00<span style="color: #000000;">
                               admin.system.roles      0ms     0ms      0ms                             
                               admin.system.users      0ms     0ms      0ms                             
                             admin.system.version      0ms     0ms      0ms                             
                                         app.user      0ms     0ms      0ms                             
             automationcore.automation.job.status      0ms     0ms      0ms                             
                 automationcore.config.automation      0ms     0ms      0ms                             
        automationcore.config.automationTemplates      0ms     0ms      0ms                             
automationcore.config.automationTemplates_archive      0ms     0ms      0ms                             
         automationcore.config.automation_archive      0ms     0ms      0ms                             
                 automationstatus.lastAgentStatus      0ms     0ms      0ms      </span></pre>
</div>
</div>
<p>mongotopé‡è¦æŒ‡æ ‡</p>
<div>
<div class="cnblogs_code">
<pre><span style="color: #000000;">nsï¼šæ•°æ®åº“å‘½åç©ºé—´ï¼Œåè€…ç»“åˆäº†æ•°æ®åº“åç§°å’Œé›†åˆã€‚
totalï¼šmongodåœ¨è¿™ä¸ªå‘½ä»¤ç©ºé—´ä¸ŠèŠ±è´¹çš„æ€»æ—¶é—´ã€‚
</span><span style="color: #0000ff;">read</span><span style="color: #000000;">ï¼šåœ¨è¿™ä¸ªå‘½ä»¤ç©ºé—´ä¸Šmongodæ‰§è¡Œè¯»æ“ä½œèŠ±è´¹çš„æ—¶é—´ã€‚
writeï¼šåœ¨è¿™ä¸ªå‘½åç©ºé—´ä¸Šmongodè¿›è¡Œå†™æ“ä½œèŠ±è´¹çš„æ—¶é—´ã€‚</span></pre>
</div>
</div>
<h3>1.4.3 dbçº§åˆ«å‘½ä»¤</h3>
<div>
<div class="cnblogs_code">
<pre>db.currentOp()</pre>
</div>
<p>ã€€ã€€æŸ¥çœ‹æ•°æ®åº“å½“å‰æ‰§è¡Œä»€ä¹ˆæ“ä½œã€‚</p>
</div>
<p>ã€€ã€€ç”¨äºæŸ¥çœ‹é•¿æ—¶é—´è¿è¡Œè¿›ç¨‹ã€‚</p>
<p>ã€€ã€€é€šè¿‡ï¼ˆæ‰§è¡Œæ—¶é•¿ã€æ“ä½œã€é”ã€ç­‰å¾…é”æ—¶é•¿)ç­‰æ¡ä»¶è¿‡æ»¤ã€‚</p>
<p>ã€€ã€€å¦‚æœå‘ç°ä¸€ä¸ªæ“ä½œå¤ªé•¿ï¼ŒæŠŠæ•°æ®åº“å¡æ­»çš„è¯ï¼Œå¯ä»¥ç”¨è¿™ä¸ªå‘½ä»¤æ€æ­»ä»–ï¼š> db.killOp(608605)</p>
<div>
<div class="cnblogs_code">
<pre>db.setProfilingLevel()</pre>
</div>
<p>ã€€ã€€è®¾ç½®serverçº§åˆ«æ…¢æ—¥å¿—</p>
</div>
<p>ã€€ã€€æ‰“å¼€profilingï¼š</p>
<div>
<blockquote>
<p class="a" style="color: #000000;">0:ä¸ä¿å­˜</p>
<p class="a" style="color: #000000;">1:ä¿å­˜æ…¢æŸ¥è¯¢æ—¥å¿—</p>
<p class="a">&nbsp;</p>
<p class="a" style="color: #000000;">2:ä¿å­˜æ‰€æœ‰æŸ¥è¯¢æ—¥å¿—</p>
</blockquote>
</div>
<p>ã€€ã€€æ³¨æ„:çº§åˆ«æ˜¯å¯¹åº”å½“å‰çš„æ•°æ®åº“ï¼Œè€Œé˜ˆå€¼æ˜¯å…¨å±€çš„ã€‚</p>
<blockquote>
<p style="color: #000000;">æŸ¥çœ‹profilingçŠ¶æ€</p>
<p style="color: #000000;">æŸ¥çœ‹æ…¢æŸ¥è¯¢ï¼šsystem.profile</p>
<p>&nbsp;</p>
<p style="color: #000000;">å…³é—­profiling</p>
</blockquote>
<div>
<p class="a1" style="text-align: center;">ä¼ä¸šå·¥å…·ops managerå®˜æ–¹æ–‡æ¡£ï¼š <a href="javascript:if(confirm('http://clsn.io/wp-content/themes/clsn-003/inc/go.php?url=%20https://docs.opsmanager.mongodb.com/v3.6/  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüÎŞ·¨È¡µÃ£¬»òÖøËüÈ¡»Øºó·ÅÆú£¬»òÊÇÏîÄ¿Í£Ö¹µÄÌ«¿ì¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://clsn.io/wp-content/themes/clsn-003/inc/go.php?url=%20https://docs.opsmanager.mongodb.com/v3.6/'" tppabs="http://clsn.io/wp-content/themes/clsn-003/inc/go.php?url=%20https://docs.opsmanager.mongodb.com/v3.6/"  target="_blank">https://docs.opsmanager.mongodb.com/v3.6/</a></p>
</div>
<h2>1.5 MongoDBé›†ç¾¤æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆ</h2>
<h3>1.5.1 ä¼˜åŒ–æ–¹å‘</h3>
<div>
<blockquote>
<p class="a" style="color: #000000;">ç¡¬ä»¶ï¼ˆå†…å­˜ã€SSDï¼‰</p>
<p class="a" style="color: #000000;">æ”¶ç¼©æ•°æ®</p>
<p class="a" style="color: #000000;">å¢åŠ æ–°çš„æœºå™¨ã€æ–°çš„å‰¯æœ¬é›†</p>
<p class="a" style="color: #000000;">é›†ç¾¤åˆ†ç‰‡é”®é€‰æ‹©</p>
<p class="a" style="color: #000000;">chunkå¤§å°è®¾ç½®</p>
<p class="a">&nbsp;</p>
<p class="a" style="color: #000000;">é¢„åˆ†ç‰‡ï¼ˆé¢„å…ˆåˆ†é…å­˜å‚¨ç©ºé—´ï¼‰</p>
</blockquote>
</div>
<h3>1.5.2 å­˜å‚¨å¼•æ“æ–¹é¢</h3>
<p>ã€€ã€€WiredTigeræ˜¯3.0ä»¥åçš„é»˜è®¤å­˜å‚¨å¼•æ“ï¼Œç»†ç²’åº¦çš„å¹¶å‘æ§åˆ¶å’Œæ•°æ®å‹ç¼©æä¾›äº†æ›´é«˜çš„æ€§èƒ½å’Œå­˜å‚¨æ•ˆç‡ã€‚3.0ä»¥å‰é»˜è®¤çš„MMAPv1ä¹Ÿæé«˜äº†æ€§èƒ½ã€‚</p>
<p>ã€€ã€€åœ¨MongoDBå¤åˆ¶é›†ä¸­å¯ä»¥ç»„åˆå¤šé’Ÿå­˜å‚¨å¼•æ“ï¼Œå„ä¸ªå®ä¾‹å®ç°ä¸åŒçš„åº”ç”¨éœ€æ±‚ã€‚</p>
<h3>1.5.3 å…¶ä»–ä¼˜åŒ–å»ºè®®</h3>
<div>
<blockquote>
<p class="a" style="color: #000000;">æ”¶ç¼©æ•°æ®</p>
<p class="a" style="color: #000000;">é¢„åˆ†ç‰‡</p>
<p class="a" style="color: #000000;">å¢åŠ æ–°çš„æœºå™¨ã€æ–°çš„å‰¯æœ¬é›†</p>
<p class="a" style="color: #000000;">é›†ç¾¤åˆ†ç‰‡é”®é€‰æ‹©</p>
<p class="a">&nbsp;</p>
<p class="a" style="color: #000000;">chunkå¤§å°è®¾ç½®</p>
</blockquote>
</div>
<h2>1.6 é™„å½•ï¼šAliyun å¤‡ä»½ç­–ç•¥</h2>
<h3>1.6.1 MongoDBäº‘æ•°æ®åº“å¤‡ä»½/æ¢å¤</h3>
<p align="center"><img data-original="http://clsn.io/wp-content/uploads/2018/03/1190037-20180108183457535-611170065.png" src="blank.gif" tppabs="http://clsn.io/wp-content/themes/clsn-003/img/blank.gif" alt="MongoDBçš„å¤‡ä»½ä¸æ¢å¤" alt="" />&nbsp;</p>

<p>å¤‡ä»½ç­–ç•¥ï¼š</p>
<div>
<blockquote>
<ol>
<li>ä»hiddenèŠ‚ç‚¹å¤‡ä»½</li>
<li>æ¯å¤©ä¸€æ¬¡å…¨é‡å¤‡ä»½</li>
<li>æŒç»­æ‹‰å–oplogå¢é‡å¤‡ä»½</li>
<li>å®šæœŸå·¡æ£€å¤‡ä»½æœ‰æ•ˆæ€§</li>
<li>æ¢å¤æ—¶å…‹éš†åˆ°æ–°å®ä¾‹</li>
</ol>
</blockquote>
</div>
<h3>1.6.2 å…¨é‡å¤‡ä»½æ–¹æ³•</h3>
<p align="center">&nbsp;<img data-original="http://clsn.io/wp-content/uploads/2018/03/1190037-20180108183559394-794158819.png" src="blank.gif" tppabs="http://clsn.io/wp-content/themes/clsn-003/img/blank.gif" alt="MongoDBçš„å¤‡ä»½ä¸æ¢å¤" alt="" /></p>

<h3>1.6.3 é€»è¾‘å¤‡ä»½æµç¨‹ - mongodump</h3>
<p align="center">&nbsp;<img data-original="http://clsn.io/wp-content/uploads/2018/03/1190037-20180108183607176-300071779.png" src="blank.gif" tppabs="http://clsn.io/wp-content/themes/clsn-003/img/blank.gif" alt="MongoDBçš„å¤‡ä»½ä¸æ¢å¤" alt="" /></p>

<p>ç‰¹ç‚¹ï¼š</p>
<div>
<blockquote>
<ol>
<li>å…¨é‡éå†æ‰€æœ‰æ•°æ®ã€</li>
<li>å¤‡ä»½ã€æ¢å¤æ…¢</li>
<li>å¯¹ä¸šåŠ¡å½±å“è¾ƒå¤§</li>
<li>æ— éœ€å¤‡ä»½ç´¢å¼•ã€æ¢å¤æ—¶é‡å»º</li>
<li>é€šç”¨æ€§å¼º</li>
</ol>
</blockquote>
</div>
<h3>1.6.4 ç‰©ç†å¤‡ä»½æµç¨‹</h3>
<p align="center"><img data-original="http://clsn.io/wp-content/uploads/2018/03/1190037-20180108183621379-438094970.png" src="blank.gif" tppabs="http://clsn.io/wp-content/themes/clsn-003/img/blank.gif" alt="MongoDBçš„å¤‡ä»½ä¸æ¢å¤" alt="" />&nbsp;</p>

<p>å¤‡ä»½ç‰¹ç‚¹</p>
<div>
<blockquote>
<ol>
<li>æ‹·è´æ•°æ®ç›®å½•æ‰€æœ‰æ–‡ä»¶ï¼Œæ•ˆç‡é«˜</li>
<li>å¤‡ä»½ã€æ¢å¤å¿«</li>
<li>å¯¹ä¸šåŠ¡å½±å“è¾ƒå°</li>
<li>è·Ÿæ•°æ®åº“ç‰ˆæœ¬ã€é…ç½®å¼ºå…³è”</li>
</ol>
</blockquote>
</div>
<h3>1.6.5 é€»è¾‘å¤‡ä»½ vs ç‰©ç†å¤‡ä»½</h3>
<table class="MsoNormalTable" style="width: 100%;" border="0" cellspacing="0" cellpadding="0">
<tbody>
<tr style="mso-yfti-irow: 0; mso-yfti-firstrow: yes; height: 7.85pt;">
<td style="width: 18.9%; border-width: 1pt 1pt 3pt; border-color: white; background: #81b859; padding: 0.75pt 0.75pt 0cm; height: 7.85pt;" valign="top" width="18%">&nbsp;</td>
<td style="width: 42.06%; border-top-width: 1pt; border-top-color: white; border-left: none; border-bottom-width: 3pt; border-bottom-color: white; border-right-width: 1pt; border-right-color: white; background: #81b859; padding: 3.05pt 0.75pt 0cm; height: 7.85pt;" valign="top" width="42%">
<p class="MsoNormal" style="text-align: center;" align="center"><strong><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">é€»è¾‘å¤‡ä»½</span></strong></p>
</td>
<td style="width: 39.02%; border-top-width: 1pt; border-top-color: white; border-left: none; border-bottom-width: 3pt; border-bottom-color: white; border-right-width: 1pt; border-right-color: white; background: #81b859; padding: 3.05pt 0.75pt 0cm; height: 7.85pt;" valign="top" width="39%">
<p class="MsoNormal" style="text-align: center;" align="center"><strong><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">ç‰©ç†å¤‡ä»½</span></strong></p>
</td>
</tr>
<tr style="mso-yfti-irow: 1; height: 12.55pt;">
<td style="width: 18.9%; border-right-width: 1pt; border-bottom-width: 1pt; border-left-width: 1pt; border-right-color: white; border-bottom-color: white; border-left-color: white; border-top: none; background: #dde8d8; padding: 2.05pt 0.75pt 0cm; height: 12.55pt;" valign="top" width="18%">
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">å¤‡ä»½æ•ˆç‡</span></p>
</td>
<td style="width: 42.06%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: white; border-right-width: 1pt; border-right-color: white; background: #dde8d8; padding: 2.05pt 0.75pt 0cm; height: 12.55pt;" valign="top" width="42%">
<p class="MsoNormal" style="text-align: center;" align="center"><strong><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">ä½</span></strong></p>
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æ•°æ®åº“æ¥å£è¯»å–æ•°æ®</span></p>
</td>
<td style="width: 39.02%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: white; border-right-width: 1pt; border-right-color: white; background: #dde8d8; padding: 2.05pt 0.75pt 0cm; height: 12.55pt;" valign="top" width="39%">
<p class="MsoNormal" style="text-align: center;" align="center"><strong><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">é«˜</span></strong></p>
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æ‹·è´ç‰©ç†æ–‡ä»¶</span></p>
</td>
</tr>
<tr style="mso-yfti-irow: 2; height: 31.55pt;">
<td style="width: 18.9%; border-right-width: 1pt; border-bottom-width: 1pt; border-left-width: 1pt; border-right-color: white; border-bottom-color: white; border-left-color: white; border-top: none; background: #eff4ed; padding: 3.05pt 0.75pt 0cm; height: 31.55pt;" valign="top" width="18%">
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æ¢å¤æ•ˆç‡</span></p>
</td>
<td style="width: 42.06%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: white; border-right-width: 1pt; border-right-color: white; background: #eff4ed; padding: 3.05pt 0.75pt 0cm; height: 31.55pt;" valign="top" width="42%">
<p class="MsoNormal" style="text-align: center;" align="center"><strong><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">ä½</span></strong></p>
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">ä¸‹è½½å¤‡ä»½é›†</span> <span lang="EN-US">+&nbsp; </span><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">å¯¼å…¥æ•°æ®</span> <span lang="EN-US">+&nbsp; </span><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">å»ºç«‹ç´¢å¼•</span></p>
</td>
<td style="width: 39.02%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: white; border-right-width: 1pt; border-right-color: white; background: #eff4ed; padding: 3.05pt 0.75pt 0cm; height: 31.55pt;" valign="top" width="39%">
<p class="MsoNormal" style="text-align: center;" align="center"><strong><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">é«˜</span></strong></p>
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">ä¸‹è½½å¤‡ä»½é›†</span> <span lang="EN-US">+&nbsp; </span><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">å¯åŠ¨è¿›ç¨‹</span></p>
</td>
</tr>
<tr style="mso-yfti-irow: 3; height: 1.15pt;">
<td style="width: 18.9%; border-right-width: 1pt; border-bottom-width: 1pt; border-left-width: 1pt; border-right-color: white; border-bottom-color: white; border-left-color: white; border-top: none; background: #dde8d8; padding: 3.05pt 0.75pt 0cm; height: 1.15pt;" valign="top" width="18%">
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">å¤‡ä»½å½±å“</span></p>
</td>
<td style="width: 42.06%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: white; border-right-width: 1pt; border-right-color: white; background: #dde8d8; padding: 3.05pt 0.75pt 0cm; height: 1.15pt;" valign="top" width="42%">
<p class="MsoNormal" style="text-align: center;" align="center"><strong><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">å¤§</span></strong></p>
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">ç›´æ¥ä¸ä¸šåŠ¡äº‰æŠ¢èµ„æº</span></p>
</td>
<td style="width: 39.02%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: white; border-right-width: 1pt; border-right-color: white; background: #dde8d8; padding: 3.05pt 0.75pt 0cm; height: 1.15pt;" valign="top" width="39%">
<p class="MsoNormal" style="text-align: center;" align="center"><strong><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">å°</span></strong></p>
</td>
</tr>
<tr style="mso-yfti-irow: 4; height: 1.15pt;">
<td style="width: 18.9%; border-right-width: 1pt; border-bottom-width: 1pt; border-left-width: 1pt; border-right-color: white; border-bottom-color: white; border-left-color: white; border-top: none; background: #eff4ed; padding: 3.05pt 0.75pt 0cm; height: 1.15pt;" valign="top" width="18%">
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">å¤‡ä»½é›†å¤§å°</span></p>
</td>
<td style="width: 42.06%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: white; border-right-width: 1pt; border-right-color: white; background: #eff4ed; padding: 3.05pt 0.75pt 0cm; height: 1.15pt;" valign="top" width="42%">
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æ¯”åŸåº“å°</span></p>
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">æ— éœ€å¤‡ä»½ç´¢å¼•æ•°æ®</span></p>
</td>
<td style="width: 39.02%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: white; border-right-width: 1pt; border-right-color: white; background: #eff4ed; padding: 3.05pt 0.75pt 0cm; height: 1.15pt;" valign="top" width="39%">
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">ä¸åŸåº“ç›¸åŒ</span></p>
</td>
</tr>
<tr style="mso-yfti-irow: 5; mso-yfti-lastrow: yes; height: 1.15pt;">
<td style="width: 18.9%; border-right-width: 1pt; border-bottom-width: 1pt; border-left-width: 1pt; border-right-color: white; border-bottom-color: white; border-left-color: white; border-top: none; background: #dde8d8; padding: 3.05pt 0.75pt 0cm; height: 1.15pt;" valign="top" width="18%">
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">å…¼å®¹æ€§</span></p>
</td>
<td style="width: 42.06%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: white; border-right-width: 1pt; border-right-color: white; background: #dde8d8; padding: 3.05pt 0.75pt 0cm; height: 1.15pt;" valign="top" width="42%">
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">å…¼å®¹ç»å¤§éƒ¨åˆ†ç‰ˆæœ¬</span></p>
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">å¯è·¨å­˜å‚¨å¼•æ“</span></p>
</td>
<td style="width: 39.02%; border-top: none; border-left: none; border-bottom-width: 1pt; border-bottom-color: white; border-right-width: 1pt; border-right-color: white; background: #dde8d8; padding: 3.05pt 0.75pt 0cm; height: 1.15pt;" valign="top" width="39%">
<p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: 'å¾®è½¯é›…é»‘',sans-serif; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New';">ä¾èµ–å­˜å‚¨å¸ƒå±€</span></p>
</td>
</tr>
</tbody>
</table>
<p style="text-align: right;">&nbsp; &nbsp;æ›´å¤šå†…å®¹å‚è€ƒ<a href="javascript:if(confirm('http://clsn.io/wp-content/themes/clsn-003/inc/go.php?url=http://www.mongoing.com/archives/3962  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüÎŞ·¨È¡µÃ£¬»òÖøËüÈ¡»Øºó·ÅÆú£¬»òÊÇÏîÄ¿Í£Ö¹µÄÌ«¿ì¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://clsn.io/wp-content/themes/clsn-003/inc/go.php?url=http://www.mongoing.com/archives/3962'" tppabs="http://clsn.io/wp-content/themes/clsn-003/inc/go.php?url=http://www.mongoing.com/archives/3962" >http://www.mongoing.com/archives/3962</a></p>
<h2>1.7 å‚è€ƒæ–‡çŒ®</h2>
<div>
<blockquote>
<p class="a">[1]&nbsp;&nbsp;<a href="javascript:if(confirm('http://clsn.io/wp-content/themes/clsn-003/inc/go.php?url=http://www.cnblogs.com/yaoxing/p/mongodb-backup-rules.html  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüÎŞ·¨È¡µÃ£¬»òÖøËüÈ¡»Øºó·ÅÆú£¬»òÊÇÏîÄ¿Í£Ö¹µÄÌ«¿ì¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://clsn.io/wp-content/themes/clsn-003/inc/go.php?url=http://www.cnblogs.com/yaoxing/p/mongodb-backup-rules.html'" tppabs="http://clsn.io/wp-content/themes/clsn-003/inc/go.php?url=http://www.cnblogs.com/yaoxing/p/mongodb-backup-rules.html" >http://www.cnblogs.com/yaoxing/p/mongodb-backup-rules.html</a></p>
<p class="a">[2]&nbsp;&nbsp;<a href="javascript:if(confirm('http://clsn.io/wp-content/themes/clsn-003/inc/go.php?url=http://blog.itpub.net/15498/viewspace-2073272/  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüÎŞ·¨È¡µÃ£¬»òÖøËüÈ¡»Øºó·ÅÆú£¬»òÊÇÏîÄ¿Í£Ö¹µÄÌ«¿ì¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://clsn.io/wp-content/themes/clsn-003/inc/go.php?url=http://blog.itpub.net/15498/viewspace-2073272/'" tppabs="http://clsn.io/wp-content/themes/clsn-003/inc/go.php?url=http://blog.itpub.net/15498/viewspace-2073272/" >http://blog.itpub.net/15498/viewspace-2073272/</a></p>
<p class="a">[3]&nbsp;&nbsp;<a href="javascript:if(confirm('http://clsn.io/wp-content/themes/clsn-003/inc/go.php?url=http://www.mongoing.com/archives/3962  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüÎŞ·¨È¡µÃ£¬»òÖøËüÈ¡»Øºó·ÅÆú£¬»òÊÇÏîÄ¿Í£Ö¹µÄÌ«¿ì¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://clsn.io/wp-content/themes/clsn-003/inc/go.php?url=http://www.mongoing.com/archives/3962'" tppabs="http://clsn.io/wp-content/themes/clsn-003/inc/go.php?url=http://www.mongoing.com/archives/3962" >http://www.mongoing.com/archives/3962</a></p>
<p class="a">[4]&nbsp;&nbsp;<a href="javascript:if(confirm('http://clsn.io/wp-content/themes/clsn-003/inc/go.php?url=http://chenzhou123520.iteye.com/blog/1641319  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüÎŞ·¨È¡µÃ£¬»òÖøËüÈ¡»Øºó·ÅÆú£¬»òÊÇÏîÄ¿Í£Ö¹µÄÌ«¿ì¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://clsn.io/wp-content/themes/clsn-003/inc/go.php?url=http://chenzhou123520.iteye.com/blog/1641319'" tppabs="http://clsn.io/wp-content/themes/clsn-003/inc/go.php?url=http://chenzhou123520.iteye.com/blog/1641319" >http://chenzhou123520.iteye.com/blog/1641319</a></p>
<p class="a">[5]&nbsp;&nbsp;<a href="javascript:if(confirm('http://clsn.io/wp-content/themes/clsn-003/inc/go.php?url=http://www.mongoing.com/oplog  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüÎŞ·¨È¡µÃ£¬»òÖøËüÈ¡»Øºó·ÅÆú£¬»òÊÇÏîÄ¿Í£Ö¹µÄÌ«¿ì¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://clsn.io/wp-content/themes/clsn-003/inc/go.php?url=http://www.mongoing.com/oplog'" tppabs="http://clsn.io/wp-content/themes/clsn-003/inc/go.php?url=http://www.mongoing.com/oplog" >http://www.mongoing.com/oplog</a></p>
<p class="a">[6]&nbsp;&nbsp;<a href="javascript:if(confirm('http://clsn.io/wp-content/themes/clsn-003/inc/go.php?url=https://www.cnblogs.com/datazhang/p/5917861.html  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüÎŞ·¨È¡µÃ£¬»òÖøËüÈ¡»Øºó·ÅÆú£¬»òÊÇÏîÄ¿Í£Ö¹µÄÌ«¿ì¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://clsn.io/wp-content/themes/clsn-003/inc/go.php?url=https://www.cnblogs.com/datazhang/p/5917861.html'" tppabs="http://clsn.io/wp-content/themes/clsn-003/inc/go.php?url=https://www.cnblogs.com/datazhang/p/5917861.html" >https://www.cnblogs.com/datazhang/p/5917861.html</a></p>
</blockquote>
</div>
<p>&nbsp;</p>
  </div> <div class="s-weixin-one"> <div class="weimg-one"> <img src="clsn_linux.bmp" tppabs="http://clsn.io/wp-content/uploads/2018/09/clsn_linux.bmp" alt="weinxin" /> <div class="weixin-h"><strong>æƒ¨ç»¿å°‘å¹´Linux</strong></div> <div class="weixin-h-w">è¿™æ˜¯æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·æ‰«ä¸€æ‰«</div> <div class="clear"></div> </div></div> <div class="clear"></div><div id="social"> <div class="social-main"> <span class="like"> <a href="javascript:;" data-action="ding" data-id="247" title="ç‚¹èµ" class="dingzan"><i class="be be-thumbs-up-o"></i>èµ <i class="count"> 0</i> </a> </span> <div class="shang-p"> <div class="shang-empty"><span></span></div> <span class="tipso_style" id="tip-p" data-tipso=' <span id="shang"> <span class="shang-main"> <h4><i class="be be-favorite" aria-hidden="true"></i> æ‚¨å¯ä»¥é€‰æ‹©ä¸€ç§æ–¹å¼èµåŠ©æœ¬ç«™</h4> <span class="clear"></span> </span> </span>'> <span class="shang-s"><a title="èµåŠ©æœ¬ç«™">èµ</a></span> </span> </div> <div class="share-sd"> <span class="share-s"><a href="javascript:void(0)" id="share-s" title="åˆ†äº«"><i class="be be-share"></i>åˆ†äº«</a></span> <div id="share"> <ul class="bdsharebuttonbox"> <li><a title="æ›´å¤š" class="bds_more be be-addbox" data-cmd="more" onclick="return false;" href="#"></a></li> <li><a title="åˆ†äº«åˆ°QQç©ºé—´" class="be be-qzone" data-cmd="qzone" onclick="return false;" href="#"></a></li> <li><a title="åˆ†äº«åˆ°æ–°æµªå¾®åš" class="be be-stsina" data-cmd="tsina" onclick="return false;" href="#"></a></li> <li><a title="åˆ†äº«åˆ°è…¾è®¯å¾®åš" class="be be-tqq" data-cmd="tqq" onclick="return false;" href="#"></a></li> <li><a title="åˆ†äº«åˆ°äººäººç½‘" class="be be-renren" data-cmd="renren" onclick="return false;" href="#"></a></li> <li><a title="åˆ†äº«åˆ°å¾®ä¿¡" class="be be-weixin" data-cmd="weixin" onclick="return false;" href="#"></a></li> </ul></div> </div> <div class="clear"></div> </div></div> <footer class="single-footer"> <ul id="fontsize"><li>A+</li></ul><div class="single-cat-tag"><div class="single-cat">æ‰€å±åˆ†ç±»ï¼š<a href="javascript:if(confirm('http://clsn.io/clsn-ops/linux%e8%bf%90%e7%bb%b4/  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüÎŞ·¨È¡µÃ£¬»òÖøËüÈ¡»Øºó·ÅÆú£¬»òÊÇÏîÄ¿Í£Ö¹µÄÌ«¿ì¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://clsn.io/clsn-ops/linux%e8%bf%90%e7%bb%b4/'" tppabs="http://clsn.io/clsn-ops/linux%e8%bf%90%e7%bb%b4/" rel="category tag">Linuxè¿ç»´</a> <a href="index-13.htm" tppabs="http://clsn.io/clsn-ops/databases/nosql/" rel="category tag">NoSQL</a> <a href="index-11.htm" tppabs="http://clsn.io/clsn-ops/databases/" rel="category tag">æ•°æ®åº“</a> <a href="javascript:if(confirm('http://clsn.io/clsn-ops/ops-linux/  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüÎŞ·¨È¡µÃ£¬»òÖøËüÈ¡»Øºó·ÅÆú£¬»òÊÇÏîÄ¿Í£Ö¹µÄÌ«¿ì¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://clsn.io/clsn-ops/ops-linux/'" tppabs="http://clsn.io/clsn-ops/ops-linux/" rel="category tag">è¿ç»´åŸºæœ¬åŠŸ</a></div></div> </footer><!-- .entry-footer --> <div class="clear"></div> </div><!-- .entry-content --> </article><!-- #post --><div class="single-tag"></div> <div class="authorbio wow fadeInUp" data-wow-delay="0.3s"> <img alt='' src="92aaa21455d7edf078accf7a7b75ee76-s=64&r=g&default=-wp-content-themes-clsn-003-img-avatar-96-latin_c.png" tppabs="https://cn.gravatar.com/avatar/92aaa21455d7edf078accf7a7b75ee76?s=64&r=g&default=%2Fwp-content%2Fthemes%2Fclsn-003%2Fimg%2Favatar%2F96%2Flatin_c.png" class='avatar avatar-64 photo wpfla ' width='64' height='64' /> <ul class="spostinfo"> <li> <li><strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬ç«™åŸåˆ›æ–‡ç« ï¼Œäº2018å¹´1æœˆ20æ—¥<i class="i-time">07:34:00</i>ï¼Œç”± <b><a href="index-36.htm" tppabs="http://clsn.io/clsn/lxauthor/clsn/" title="ç”±æƒ¨ç»¿å°‘å¹´å‘å¸ƒ" rel="author">æƒ¨ç»¿å°‘å¹´</a></b> å‘è¡¨ï¼Œå…± 7912 å­—ã€‚</li> <li class="reprinted"><strong>è½¬è½½è¯·æ³¨æ˜ï¼š</strong><a href="lx247.html" tppabs="http://clsn.io/clsn/lx247.html" rel="bookmark" title="æœ¬æ–‡å›ºå®šé“¾æ¥ http://clsn.io/clsn/lx247.html">MongoDBçš„å¤‡ä»½ä¸æ¢å¤ | æƒ¨ç»¿å°‘å¹´</a></li> </ul> <div class="clear"></div></div> <div id="related-img" class="wow fadeInUp" data-wow-delay="0.3s"> <div class="r4"> <div class="related-site"> <figure class="related-site-img"> <span class="load"><a href="javascript:if(confirm('http://clsn.io/clsn/lx1086.html  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüÎŞ·¨È¡µÃ£¬»òÖøËüÈ¡»Øºó·ÅÆú£¬»òÊÇÏîÄ¿Í£Ö¹µÄÌ«¿ì¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://clsn.io/clsn/lx1086.html'" tppabs="http://clsn.io/clsn/lx1086.html"><img src="loading.png" tppabs="http://clsn.io/wp-content/themes/clsn-003/img/loading.png" data-original="/wp-content/themes/clsn-003/timthumb.php?src=/wp-content/uploads/2018/09/1190037-20180205204316029-486521233.png&w=280&h=210&a=&zc=1" alt="AWKå¸¸ç”¨æŠ€å·§" /></a></span> </figure> <div class="related-title"><a href="javascript:if(confirm('http://clsn.io/clsn/lx1086.html  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüÎŞ·¨È¡µÃ£¬»òÖøËüÈ¡»Øºó·ÅÆú£¬»òÊÇÏîÄ¿Í£Ö¹µÄÌ«¿ì¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://clsn.io/clsn/lx1086.html'" tppabs="http://clsn.io/clsn/lx1086.html">AWKå¸¸ç”¨æŠ€å·§</a></div> </div> </div> <div class="r4"> <div class="related-site"> <figure class="related-site-img"> <span class="load"><a href="lx1088.html" tppabs="http://clsn.io/clsn/lx1088.html"><img src="loading.png" tppabs="http://clsn.io/wp-content/themes/clsn-003/img/loading.png" data-original="/wp-content/themes/clsn-003/timthumb.php?src=/wp-content/uploads/2018/09/1190037-20180612203730808-1316825229.png&w=280&h=210&a=&zc=1" alt="Webç¼“å­˜çŸ¥è¯†ä½“ç³»" /></a></span> </figure> <div class="related-title"><a href="lx1088.html" tppabs="http://clsn.io/clsn/lx1088.html">Webç¼“å­˜çŸ¥è¯†ä½“ç³»</a></div> </div> </div> <div class="r4"> <div class="related-site"> <figure class="related-site-img"> <span class="load"><a href="lx1090.html" tppabs="http://clsn.io/clsn/lx1090.html"><img src="loading.png" tppabs="http://clsn.io/wp-content/themes/clsn-003/img/loading.png" data-original="/wp-content/themes/clsn-003/timthumb.php?src=/wp-content/uploads/2018/09/1190037-20180604214121023-576776588.png&w=280&h=210&a=&zc=1" alt="ç›‘æ§å‘½ä»¤ä¹‹tsar" /></a></span> </figure> <div class="related-title"><a href="lx1090.html" tppabs="http://clsn.io/clsn/lx1090.html">ç›‘æ§å‘½ä»¤ä¹‹tsar</a></div> </div> </div> <div class="r4"> <div class="related-site"> <figure class="related-site-img"> <span class="load"><a href="javascript:if(confirm('http://clsn.io/clsn/lx1092.html  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüÎŞ·¨È¡µÃ£¬»òÖøËüÈ¡»Øºó·ÅÆú£¬»òÊÇÏîÄ¿Í£Ö¹µÄÌ«¿ì¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://clsn.io/clsn/lx1092.html'" tppabs="http://clsn.io/clsn/lx1092.html"><img src="loading.png" tppabs="http://clsn.io/wp-content/themes/clsn-003/img/loading.png" data-original="/wp-content/themes/clsn-003/img/random/17.jpg" alt="æ—¥å¿—åˆ‡å‰²ä¹‹Logrotate" /></a></span> </figure> <div class="related-title"><a href="javascript:if(confirm('http://clsn.io/clsn/lx1092.html  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüÎŞ·¨È¡µÃ£¬»òÖøËüÈ¡»Øºó·ÅÆú£¬»òÊÇÏîÄ¿Í£Ö¹µÄÌ«¿ì¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://clsn.io/clsn/lx1092.html'" tppabs="http://clsn.io/clsn/lx1092.html">æ—¥å¿—åˆ‡å‰²ä¹‹Logrotate</a></div> </div> </div> <div class="clear"></div></div> <div id="single-widget"> <div class="wow fadeInUp" data-wow-delay="0.3s"> <aside id="feed-2" class="widget feed wow fadeInUp" data-wow-delay="0.3s"><h3 class="widget-title"><span class="s-icon"></span>å…³æ³¨æˆ‘ä»¬</h3><div id="feed_widget"> <div class="feed-rss"> <ul> <li class="weixin"> <span class="tipso_style" id="tip-w-j" data-tipso='<span class="weixin-qr"><img src="clsn_linux.bmp" tppabs="http://clsn.io/wp-content/uploads/2018/09/clsn_linux.bmp" alt="weixin"/></span>'><a title="å¾®ä¿¡"><i class="be be-weixin"></i></a></span> </li> <li class="feed"><a title="è®¢é˜…" href="index-23.htm" tppabs="http://clsn.io/feed/" target="_blank" rel="external nofollow"><i class="be be-rss"></i></a></li> <li class="tsina"><a title="" href="javascript:if(confirm('https://weibo.com/236567300  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ´ËÒ»µØÖ·Ê¹ÓÃÉĞÎ´Ö§³ÖµÄĞ­Òé (ÀıÈç£¬gopher)¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='https://weibo.com/236567300'" tppabs="https://weibo.com/236567300" target="_blank" rel="external nofollow"><i class="be be-stsina"></i></a></li> <li class="tqq"><a title="" href="javascript:if(confirm('https://weibo.com/236567300  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ´ËÒ»µØÖ·Ê¹ÓÃÉĞÎ´Ö§³ÖµÄĞ­Òé (ÀıÈç£¬gopher)¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='https://weibo.com/236567300'" tppabs="https://weibo.com/236567300" target="_blank" rel="external nofollow"><i class="be be-tqq"></i></a></li> </ul> </div></div><div class="clear"></div></aside><aside id="related_post-2" class="widget related_post wow fadeInUp" data-wow-delay="0.3s"><div id="related_post_widget"> <ul> <li><a href="javascript:if(confirm('http://clsn.io/clsn/lx1086.html  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüÎŞ·¨È¡µÃ£¬»òÖøËüÈ¡»Øºó·ÅÆú£¬»òÊÇÏîÄ¿Í£Ö¹µÄÌ«¿ì¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://clsn.io/clsn/lx1086.html'" tppabs="http://clsn.io/clsn/lx1086.html">AWKå¸¸ç”¨æŠ€å·§</a></li> <li><a href="lx1088.html" tppabs="http://clsn.io/clsn/lx1088.html">Webç¼“å­˜çŸ¥è¯†ä½“ç³»</a></li> <li><a href="lx1090.html" tppabs="http://clsn.io/clsn/lx1090.html">ç›‘æ§å‘½ä»¤ä¹‹tsar</a></li> </ul></div><div class="clear"></div></aside> </div> <div class="clear"></div></div> <nav class="nav-single wow fadeInUp" data-wow-delay="0.3s"> <a href="lx254.html" tppabs="http://clsn.io/clsn/lx254.html" rel="prev"><span class="meta-nav"><span class="post-nav"><i class="be be-arrowleft"></i> ä¸Šä¸€ç¯‡</span><br/>MongoDB åˆ†ç‰‡é›†ç¾¤æŠ€æœ¯</span></a><a href="lx245.html" tppabs="http://clsn.io/clsn/lx245.html" rel="next"><span class="meta-nav"><span class="post-nav">ä¸‹ä¸€ç¯‡ <i class="be be-arrowright"></i></span><br/>å®˜æ–¹æºã€é•œåƒæºæ±‡æ€»</span></a> <div class="clear"></div> </nav> <nav class="navigation post-navigation" role="navigation"> <h2 class="screen-reader-text">æ–‡ç« å¯¼èˆª</h2> <div class="nav-links"><div class="nav-previous"><a href="lx254.html" tppabs="http://clsn.io/clsn/lx254.html" rel="prev"><span class="meta-nav-r" aria-hidden="true"><i class="be be-arrowleft"></i></span></a></div><div class="nav-next"><a href="lx245.html" tppabs="http://clsn.io/clsn/lx245.html" rel="next"><span class="meta-nav-l" aria-hidden="true"><i class="be be-arrowright"></i></span></a></div></div> </nav> <!-- å¼•ç”¨ --><div class="scroll-comments"></div><div id="comments" class="comments-area"> <div id="respond" class="comment-respond wow fadeInUp" data-wow-delay="0.3s"> <h3 id="reply-title" class="comment-reply-title"><span>å‘è¡¨è¯„è®º</span><small><a rel="nofollow" id="cancel-comment-reply-link" href="lx247.html#respond" tppabs="http://clsn.io/clsn/lx247.html#respond" style="display:none;">å–æ¶ˆå›å¤</a></small></h3> <form action="http://clsn.io/wp-comments-post.php" method="post" id="commentform"> <p class="emoji-box"><script data-cfasync="false" src="email-decode.min.js" tppabs="http://clsn.io/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script type="text/javascript">/* <![CDATA[ */ function grin(tag) { var myField; tag = ' ' + tag + ' '; if (document.getElementById('comment') && document.getElementById('comment').type == 'textarea') { myField = document.getElementById('comment'); } else { return false; } if (document.selection) { myField.focus(); sel = document.selection.createRange(); sel.text = tag; myField.focus(); } else if (myField.selectionStart || myField.selectionStart == '0') { var startPos = myField.selectionStart; var endPos = myField.selectionEnd; var cursorPos = endPos; myField.value = myField.value.substring(0, startPos) + tag + myField.value.substring(endPos, myField.value.length); cursorPos += tag.length; myField.focus(); myField.selectionStart = cursorPos; myField.selectionEnd = cursorPos; } else { myField.value += tag; myField.focus(); } }/* ]]> */</script><a href="javascript:grin(':?:')"><img src="icon_question.gif" tppabs="http://clsn.io/wp-content/themes/clsn-003/img/smilies/icon_question.gif" alt=":?:" title="ç–‘é—®" /></a><a href="javascript:grin(':razz:')"><img src="icon_razz.gif" tppabs="http://clsn.io/wp-content/themes/clsn-003/img/smilies/icon_razz.gif" alt=":razz:" title="è°ƒçš®" /></a><a href="javascript:grin(':sad:')"><img src="icon_sad.gif" tppabs="http://clsn.io/wp-content/themes/clsn-003/img/smilies/icon_sad.gif" alt=":sad:" title="éš¾è¿‡" /></a><a href="javascript:grin(':evil:')"><img src="icon_evil.gif" tppabs="http://clsn.io/wp-content/themes/clsn-003/img/smilies/icon_evil.gif" alt=":evil:" title="æŠ é¼»" /></a><a href="javascript:grin(':!:')"><img src="icon_exclaim.gif" tppabs="http://clsn.io/wp-content/themes/clsn-003/img/smilies/icon_exclaim.gif" alt=":!:" title="å“" /></a><a href="javascript:grin(':smile:')"><img src="icon_smile.gif" tppabs="http://clsn.io/wp-content/themes/clsn-003/img/smilies/icon_smile.gif" alt=":smile:" title="å¾®ç¬‘" /></a><a href="javascript:grin(':oops:')"><img src="icon_redface.gif" tppabs="http://clsn.io/wp-content/themes/clsn-003/img/smilies/icon_redface.gif" alt=":oops:" title="æ†¨ç¬‘" /></a><a href="javascript:grin(':grin:')"><img src="icon_biggrin.gif" tppabs="http://clsn.io/wp-content/themes/clsn-003/img/smilies/icon_biggrin.gif" alt=":grin:" title="åç¬‘" /></a><a href="javascript:grin(':eek:')"><img src="icon_surprised.gif" tppabs="http://clsn.io/wp-content/themes/clsn-003/img/smilies/icon_surprised.gif" alt=":eek:" title="æƒŠè®¶" /></a><a href="javascript:grin(':shock:')"><img src="icon_eek.gif" tppabs="http://clsn.io/wp-content/themes/clsn-003/img/smilies/icon_eek.gif" alt=":shock:" title="å‘å‘†" /></a><a href="javascript:grin(':???:')"><img src="icon_confused.gif" tppabs="http://clsn.io/wp-content/themes/clsn-003/img/smilies/icon_confused.gif" alt=":???:" title="æ’‡å˜´" /></a><a href="javascript:grin(':cool:')"><img src="icon_cool.gif" tppabs="http://clsn.io/wp-content/themes/clsn-003/img/smilies/icon_cool.gif" alt=":cool:" title="å¤§å…µ" /></a><a href="javascript:grin(':lol:')"><img src="icon_lol.gif" tppabs="http://clsn.io/wp-content/themes/clsn-003/img/smilies/icon_lol.gif" alt=":lol:" title="å·ç¬‘" /></a><a href="javascript:grin(':mad:')"><img src="icon_mad.gif" tppabs="http://clsn.io/wp-content/themes/clsn-003/img/smilies/icon_mad.gif" alt=":mad:" title="å’’éª‚" /></a><a href="javascript:grin(':twisted:')"><img src="icon_twisted.gif" tppabs="http://clsn.io/wp-content/themes/clsn-003/img/smilies/icon_twisted.gif" alt=":twisted:" title="å‘æ€’" /></a><a href="javascript:grin(':roll:')"><img src="icon_rolleyes.gif" tppabs="http://clsn.io/wp-content/themes/clsn-003/img/smilies/icon_rolleyes.gif" alt=":roll:" title="ç™½çœ¼" /></a><a href="javascript:grin(':wink:')"><img src="icon_wink.gif" tppabs="http://clsn.io/wp-content/themes/clsn-003/img/smilies/icon_wink.gif" alt=":wink:" title="é¼“æŒ" /></a><a href="javascript:grin(':idea:')"><img src="icon_idea.gif" tppabs="http://clsn.io/wp-content/themes/clsn-003/img/smilies/icon_idea.gif" alt=":idea:" title="é…·" /></a><a href="javascript:grin(':arrow:')"><img src="icon_arrow.gif" tppabs="http://clsn.io/wp-content/themes/clsn-003/img/smilies/icon_arrow.gif" alt=":arrow:" title="æ“¦æ±—" /></a><a href="javascript:grin(':neutral:')"><img src="icon_neutral.gif" tppabs="http://clsn.io/wp-content/themes/clsn-003/img/smilies/icon_neutral.gif" alt=":neutral:" title="äº²äº²" /></a><a href="javascript:grin(':cry:')"><img src="icon_cry.gif" tppabs="http://clsn.io/wp-content/themes/clsn-003/img/smilies/icon_cry.gif" alt=":cry:" title="å¤§å“­" /></a><a href="javascript:grin(':mrgreen:')"><img src="icon_mrgreen.gif" tppabs="http://clsn.io/wp-content/themes/clsn-003/img/smilies/icon_mrgreen.gif" alt=":mrgreen:" title="å‘²ç‰™" /></a><br /></p> <p class="comment-form-comment"><textarea id="comment" name="comment" rows="4" tabindex="1"></textarea></p> <p class="comment-tool"> <a class="tool-img" href='javascript:embedImage();' title="æ’å…¥å›¾ç‰‡"><i class="icon-img"></i><i class="be be-picture"></i></a> <a class="emoji" href="" title="æ’å…¥è¡¨æƒ…"><i class="be be-insertemoticon"></i></a> </p> <div id="comment-author-info"> <p class="comment-form-author"> <label for="author">æ˜µç§°<span class="required">*</span></label> <input type="text" name="author" id="author" class="commenttext" value="" tabindex="2" /> </p> <p class="comment-form-email"> <label for="email">é‚®ç®±<span class="required">*</span></label> <input type="text" name="email" id="email" class="commenttext" value="" tabindex="3" /> </p> <p class="comment-form-url"> <label for="url">ç½‘å€</label> <input type="text" name="url" id="url" class="commenttext" value="" tabindex="4" /> </p> </div> <div class="qaptcha"></div> <div class="clear"></div> <p class="form-submit"> <input id="submit" name="submit" type="submit" tabindex="5" value="æäº¤è¯„è®º"/> <input type='hidden' name='comment_post_ID' value='247' id='comment_post_ID' /><input type='hidden' name='comment_parent' id='comment_parent' value='0' /> </p> <span class="mail-notify"> <input type="checkbox" name="comment_mail_notify" id="comment_mail_notify" class="notify" value="comment_mail_notify" /> <label for="comment_mail_notify"><span>æœ‰å›å¤æ—¶é‚®ä»¶é€šçŸ¥æˆ‘</span></label> </span> </form> </div> </div><!-- #comments --> </main><!-- .site-main --> </div><!-- .content-area --><div id="sidebar" class="widget-area all-sidebar"> <aside id="search-3" class="widget widget_search wow fadeInUp" data-wow-delay="0.3s"><h3 class="widget-title"><span class="title-i"><span class="title-i-t"></span><span class="title-i-b"></span><span class="title-i-b"></span><span class="title-i-t"></span></span>å…¨ç«™æœç´¢</h3><div class="searchbar"> <form method="get" id="searchform" action="http://clsn.io/"> <span class="search-input"> <input type="text" value="" name="s" id="s" placeholder="è¾“å…¥æœç´¢å†…å®¹" required /> <button type="submit" id="searchsubmit"><i class="be be-search"></i></button> </span> </form></div><div class="clear"></div></aside><aside id="random_post-2" class="widget random_post wow fadeInUp" data-wow-delay="0.3s"><h3 class="widget-title"><span class="title-i"><span class="title-i-t"></span><span class="title-i-b"></span><span class="title-i-b"></span><span class="title-i-t"></span></span>çƒ­ç‚¹æ–‡ç« </h3><div id="random_post_widget"> <ul> <li><a href="lx998.html" tppabs="http://clsn.io/clsn/lx998.html" rel="bookmark">Linuxä¼ä¸šè¿ç»´äººå‘˜æœ€å¸¸ç”¨150ä¸ªå‘½ä»¤æ±‡æ€»</a></li> <li><a href="lx946.html" tppabs="http://clsn.io/clsn/lx946.html" rel="bookmark">DNS DHCP è·¯ç”± FTP</a></li> <li><a href="javascript:if(confirm('http://clsn.io/clsn/lx754.html  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüÎŞ·¨È¡µÃ£¬»òÖøËüÈ¡»Øºó·ÅÆú£¬»òÊÇÏîÄ¿Í£Ö¹µÄÌ«¿ì¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://clsn.io/clsn/lx754.html'" tppabs="http://clsn.io/clsn/lx754.html" rel="bookmark">inotify+rsyncå®ç°å®æ—¶åŒæ­¥</a></li> <li><a href="javascript:if(confirm('http://clsn.io/clsn/lx965.html  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüÎŞ·¨È¡µÃ£¬»òÖøËüÈ¡»Øºó·ÅÆú£¬»òÊÇÏîÄ¿Í£Ö¹µÄÌ«¿ì¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://clsn.io/clsn/lx965.html'" tppabs="http://clsn.io/clsn/lx965.html" rel="bookmark">å®šæ—¶ä»»åŠ¡çš„ä½¿ç”¨-crond</a></li> <li><a href="lx194.html" tppabs="http://clsn.io/clsn/lx194.html" rel="bookmark">KVM è™šæ‹ŸåŒ–æŠ€æœ¯</a></li> <li><a href="lx28.html" tppabs="http://clsn.io/clsn/lx28.html" rel="bookmark">åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ&#8212;GlusterFS</a></li> <li><a href="lx775.html" tppabs="http://clsn.io/clsn/lx775.html" rel="bookmark">ä½¿ç”¨cobbleræ‰¹é‡å®‰è£…æ“ä½œç³»ç»Ÿ(åŸºäºCentos7.x )</a></li> <li><a href="javascript:if(confirm('http://clsn.io/clsn/lx399.html  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüÎŞ·¨È¡µÃ£¬»òÖøËüÈ¡»Øºó·ÅÆú£¬»òÊÇÏîÄ¿Í£Ö¹µÄÌ«¿ì¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://clsn.io/clsn/lx399.html'" tppabs="http://clsn.io/clsn/lx399.html" rel="bookmark">MySQL ç´¢å¼•ç®¡ç†ä¸æ‰§è¡Œè®¡åˆ’</a></li> <li><a href="lx766.html" tppabs="http://clsn.io/clsn/lx766.html" rel="bookmark">ç”¨æˆ·ç®¡ç†ä¸‹</a></li> <li><a href="lx987.html" tppabs="http://clsn.io/clsn/lx987.html" rel="bookmark">è½¯ç¡¬é“¾æ¥ã€æ–‡ä»¶åˆ é™¤åŸç†ã€linuxä¸­çš„ä¸‰ç§æ—¶é—´ã€chkconfigä¼˜åŒ–</a></li> </ul></div><div class="clear"></div></aside> </div><div class="clear"></div> </div><!-- .site-content --> <div class="clear"></div> <footer id="colophon" class="site-footer" role="contentinfo"> <div class="site-info"> Copyright Â©Â 2018Â <a href="index.htm" tppabs="http://clsn.io/">æƒ¨ç»¿å°‘å¹´</a>Â Â ç‰ˆæƒæ‰€æœ‰ <span class="add-info"> </span> </div><!-- .site-info --> </footer><!-- .site-footer --><div id="login"> <div id="login-tab" class="login-tab-product"> <h2 class="login-tab-hd"> <span class="login-tab-hd-con"><a href="javascript:">ç™»å½•</a></span> <span class="login-tab-hd-con"><a href="javascript:">æ³¨å†Œ</a></span> <span class="login-tab-hd-con"><a href="javascript:">æ‰¾å›å¯†ç </a></span> </h2> <div class="login-tab-bd login-dom-display"> <div class="login-tab-bd-con login-current"> <div id="tab1_login" class="tab_content_login"> <form method="post" action="http://clsn.io/wp-login.php" class="wp-user-form"> <div class="username"> <label for="user_login">ç”¨æˆ·å</label> <input type="text" name="log" value="" size="20" id="user_login" tabindex="11" /> </div> <div class="password"> <label for="user_pass">å¯†ç </label> <input type="password" name="pwd" value="" size="20" id="user_pass" tabindex="12" /> </div> <div class="login-form"></div> <div class="login_fields"> <div class="rememberme"> <label for="rememberme"> <input type="checkbox" name="rememberme" value="forever" checked="checked" id="rememberme" tabindex="13" />è®°ä½æˆ‘çš„ç™»å½•ä¿¡æ¯ </label> </div> <input type="submit" name="user-submit" value="ç™»å½•" tabindex="14" class="user-submit" /> <input type="hidden" name="redirect_to" value="/clsn/lx247.html" /> <input type="hidden" name="user-cookie" value="1" /> </div> </form> </div> </div> <div class="login-tab-bd-con"> <div id="tab2_login" class="tab_content_login"> <form method="post" action="http://clsn.io/wp-login.php?action=register" class="wp-user-form"> <div class="username"> <label for="user_login">ç”¨æˆ·å</label> <input type="text" name="user_login" value="" size="20" id="user_login" tabindex="101" /> </div> <div class="password"> <label for="user_email">ç”µå­é‚®ä»¶åœ°å€</label> <input type="text" name="user_email" value="" size="25" id="user_email" tabindex="102" /> </div> <div class="login_fields"> <input type="submit" name="user-submit" value="æ³¨å†Œ" class="user-submit" tabindex="103" /> <input type="hidden" name="redirect_to" value="/clsn/lx247.html?register=true" /> <input type="hidden" name="user-cookie" value="1" /> </div> </form> </div> </div> <div class="login-tab-bd-con"> <div id="tab3_login" class="tab_content_login"> <p class="message">è¾“å…¥ç”¨æˆ·åæˆ–ç”µå­é‚®ç®±åœ°å€ï¼Œæ‚¨ä¼šæ”¶åˆ°ä¸€å°æ–°å¯†ç é“¾æ¥çš„ç”µå­é‚®ä»¶ã€‚</p> <form method="post" action="http://clsn.io/wp-login.php?action=lostpassword" class="wp-user-form"> <div class="username"> <label for="user_login" class="hide">ç”¨æˆ·åæˆ–ç”µå­é‚®ä»¶åœ°å€</label> <input type="text" name="user_login" value="" size="20" id="user_login" tabindex="1001" /> </div> <div class="login_fields"> <div class="login-form"></div> <input type="submit" name="user-submit" value="è·å–æ–°å¯†ç " class="user-submit" tabindex="1002" /> <input type="hidden" name="redirect_to" value="/clsn/lx247.html?reset=true" /> <input type="hidden" name="user-cookie" value="1" /> </div> </form> </div> </div> </div> </div> </div><ul id="scroll"> <li class="log log-no"><a class="log-button" title="æ–‡ç« ç›®å½•"><i class="be be-menu"></i></a><div class="log-prompt"><div class="log-arrow">æ–‡ç« ç›®å½•</div></div></li> <li><a class="scroll-home" href="index.htm" tppabs="http://clsn.io/" title="é¦–é¡µ" rel="home"><i class="be be-home"></i></a></li> <li><a class="scroll-h" title="è¿”å›é¡¶éƒ¨"><i class="be be-arrowup"></i></a></li> <li><a class="scroll-c" title="è¯„è®º"><i class="be be-speechbubble"></i></a></li> <li><a class="scroll-b" title="è½¬åˆ°åº•éƒ¨"><i class="be be-arrowdown"></i></a></li> <li class="qr-site"><a href="javascript:void(0)" class="qr" title="æœ¬é¡µäºŒç»´ç "><i class="be be-qr-code"></i><span class="qr-img"><span id="output"><img class="alignnone" src="Frog-2-1.png" tppabs="http://clsn.io/wp-content/uploads/2018/09/Frog-2-1.png" alt="icon"/></span><span class="arrow arrow-z"><i class="be be-playarrow"></i></span><span class="arrow arrow-y"><i class="be be-playarrow"></i></span></span></a></li> <script type="text/javascript">$(document).ready(function(){if(!+[1,]){present="table";} else {present="canvas";}$('#output').qrcode({render:present,text:window.location.href,width:"150",height:"150"});});</script> </ul> <script src="wb.js" tppabs="http://tjs.sjs.sinajs.cn/open/api/js/wb.js" type="text/javascript" charset="utf-8"></script> <html xmlns:wb="http://open.weibo.com/wb"></div><!-- .site --><script type="text/javascript">/* é¼ æ ‡ç‚¹å‡»ç‰¹æ•ˆ */var a_idx = 0;jQuery(document).ready(function($) { $("body").click(function(e) {//var a = new Array("å¯Œå¼º", "æ°‘ä¸»", "æ–‡æ˜", "å’Œè°", "è‡ªç”±", "å¹³ç­‰", "å…¬æ­£" ,"æ³•æ²»", "çˆ±å›½", "æ•¬ä¸š", "è¯šä¿¡", "å‹å–„");var a = new Array("clsn", "æƒ¨ç»¿å°‘å¹´", "CLSN", "clsn.io", "linux", "", "å…¬æ­£");var $i = $("<span/>").text(a[a_idx]); a_idx = (a_idx + 1) % a.length;var x = e.pageX, y = e.pageY; $i.css({"z-index": 999999999999999999999999999999999999999999999999999999999999999999999,"top": y - 20,"left": x,"position": "absolute","font-weight": "bold","color": "#ff6651" }); $("body").append($i); $i.animate({"top": y - 180,"opacity": 0 }, 1500,function() { $i.remove(); }); });});</script><script type="text/javascript" src="jquery-ui.min.js" tppabs="http://clsn.io/wp-content/themes/clsn-003/js/jquery-ui.min.js"></script><script type="text/javascript" src="qaptcha.jquery.js" tppabs="http://clsn.io/wp-content/themes/clsn-003/js/qaptcha.jquery.js"></script><script type="text/javascript">var QaptchaJqueryPage="/wp-content/themes/clsn-003/inc/qaptcha.jquery.php"</script><script type="text/javascript">$(document).ready(function(){$('.qaptcha').QapTcha();});</script><script type='text/javascript'>/* <![CDATA[ */var imp_data = {"ajaxurl":"http:\/\/clsn.io\/wp-admin\/admin-ajax.php","_wpnonce":"848a4b7a78"};/* ]]> */</script><script type='text/javascript' src="import.js-ver=4.9.8" tppabs="http://clsn.io/wp-content/plugins/cnblogs2wp/js/import.js?ver=4.9.8"></script><script type='text/javascript' src="slides.js-ver=2017.07.26" tppabs="http://clsn.io/wp-content/themes/clsn-003/js/slides.js?ver=2017.07.26"></script><script type='text/javascript' src="jquery.qrcode.min.js-ver=2017.07.26" tppabs="http://clsn.io/wp-content/themes/clsn-003/js/jquery.qrcode.min.js?ver=2017.07.26"></script><script type='text/javascript' src="sticky.js-ver=1.6.0" tppabs="http://clsn.io/wp-content/themes/clsn-003/js/sticky.js?ver=1.6.0"></script><script type='text/javascript' src="jquery-ias.js-ver=2.2.1" tppabs="http://clsn.io/wp-content/themes/clsn-003/js/jquery-ias.js?ver=2.2.1"></script><script type='text/javascript' src="jquery.lazyload.js-ver=2017.07.26" tppabs="http://clsn.io/wp-content/themes/clsn-003/js/jquery.lazyload.js?ver=2017.07.26"></script><script type='text/javascript' src="tipso.js-ver=1.0.1" tppabs="http://clsn.io/wp-content/themes/clsn-003/js/tipso.js?ver=1.0.1"></script><script type='text/javascript'>/* <![CDATA[ */var wpl_ajax_url = "\/wp-content\/themes\/clsn-003\/inc\/admin-ajax.php";/* ]]> */</script><script type='text/javascript' src="script.js-ver=2017.07.26" tppabs="http://clsn.io/wp-content/themes/clsn-003/js/script.js?ver=2017.07.26"></script><script type='text/javascript' src="flexisel.js-ver=2017.07.26" tppabs="http://clsn.io/wp-content/themes/clsn-003/js/flexisel.js?ver=2017.07.26"></script><script type='text/javascript' src="fancybox.js-ver=2017.07.26" tppabs="http://clsn.io/wp-content/themes/clsn-003/js/fancybox.js?ver=2017.07.26"></script><script type='text/javascript' src="comments-ajax-qt.js-ver=2017.07.26" tppabs="http://clsn.io/wp-content/themes/clsn-003/js/comments-ajax-qt.js?ver=2017.07.26"></script><script type='text/javascript' src="superfish.js-ver=2017.07.26" tppabs="http://clsn.io/wp-content/themes/clsn-003/js/superfish.js?ver=2017.07.26"></script><script type='text/javascript' src="bd-share.js-ver=2017.07.26" tppabs="http://clsn.io/wp-content/themes/clsn-003/js/bd-share.js?ver=2017.07.26"></script><script type='text/javascript' src="wpzm.js-ver=2017.07.26" tppabs="http://clsn.io/wp-content/themes/clsn-003/js/wpzm.js?ver=2017.07.26"></script><script type="text/javascript">var ias=$.ias({container:"#comments",item:".comment-list",pagination:".scroll-links",next:".scroll-links .nav-previous a",});ias.extension(new IASTriggerExtension({text:'<i class="be be-circledown"></i>æ›´å¤š',offset: 0,}));ias.extension(new IASSpinnerExtension());ias.extension(new IASNoneLeftExtension({text:'å·²æ˜¯æœ€å',}));ias.on('rendered',function(items){$("img").lazyload({effect: "fadeIn",failure_limit: 10});});</script></body></html>